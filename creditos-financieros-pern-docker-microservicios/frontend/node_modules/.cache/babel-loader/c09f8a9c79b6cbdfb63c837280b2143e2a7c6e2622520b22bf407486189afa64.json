{"ast":null,"code":"// Scoring inicial simple para ajustar tasa\n// Devuelve { score: 300-850 aprox, ajuste: delta tasa anual en puntos (ej: +0.02) }\n\nexport function calcularScoringInicial({\n  monto,\n  plazo,\n  ingresoMensual = null\n}) {\n  // Heurística simple basada en carga mensual estimada vs ingreso\n  // Si no hay ingreso, estimamos conservador\n  const cargaMensualEstimada = monto * (0.18 / 12) / (1 - Math.pow(1 + 0.18 / 12, -plazo));\n  const ingreso = ingresoMensual !== null && ingresoMensual !== void 0 ? ingresoMensual : Math.max(500000, Math.min(1500000, monto / plazo * 4));\n  const ratio = cargaMensualEstimada / ingreso; // menor es mejor\n\n  let score = 650;\n  if (ratio < 0.15) score = 780;else if (ratio < 0.25) score = 720;else if (ratio < 0.35) score = 680;else if (ratio < 0.45) score = 630;else score = 580;\n\n  // Ajuste de tasa anual basado en score\n  // bandas: [≥760:-0.02], [700-759:-0.01], [640-699:+0.0], [580-639:+0.01], [<580:+0.03]\n  let ajuste = 0.0;\n  if (score >= 760) ajuste = -0.02;else if (score >= 700) ajuste = -0.01;else if (score >= 640) ajuste = 0.0;else if (score >= 580) ajuste = 0.01;else ajuste = 0.03;\n  return {\n    score,\n    ajuste,\n    ratio\n  };\n}","map":{"version":3,"names":["calcularScoringInicial","monto","plazo","ingresoMensual","cargaMensualEstimada","Math","pow","ingreso","max","min","ratio","score","ajuste"],"sources":["/home/numpi/Documentos/Semestre 6/Anal/GRUPOPOGWARE-2025-PROYINF/creditos-financieros-pern-docker-microservicios/frontend/src/features/simulacion/utils/scoring.js"],"sourcesContent":["// Scoring inicial simple para ajustar tasa\n// Devuelve { score: 300-850 aprox, ajuste: delta tasa anual en puntos (ej: +0.02) }\n\nexport function calcularScoringInicial({ monto, plazo, ingresoMensual = null }) {\n  // Heurística simple basada en carga mensual estimada vs ingreso\n  // Si no hay ingreso, estimamos conservador\n  const cargaMensualEstimada = monto * (0.18 / 12) / (1 - Math.pow(1 + 0.18 / 12, -plazo));\n  const ingreso = ingresoMensual ?? Math.max(500000, Math.min(1500000, monto / plazo * 4));\n  const ratio = cargaMensualEstimada / ingreso; // menor es mejor\n\n  let score = 650;\n  if (ratio < 0.15) score = 780;\n  else if (ratio < 0.25) score = 720;\n  else if (ratio < 0.35) score = 680;\n  else if (ratio < 0.45) score = 630;\n  else score = 580;\n\n  // Ajuste de tasa anual basado en score\n  // bandas: [≥760:-0.02], [700-759:-0.01], [640-699:+0.0], [580-639:+0.01], [<580:+0.03]\n  let ajuste = 0.0;\n  if (score >= 760) ajuste = -0.02;\n  else if (score >= 700) ajuste = -0.01;\n  else if (score >= 640) ajuste = 0.0;\n  else if (score >= 580) ajuste = 0.01;\n  else ajuste = 0.03;\n\n  return { score, ajuste, ratio };\n}\n"],"mappings":"AAAA;AACA;;AAEA,OAAO,SAASA,sBAAsBA,CAAC;EAAEC,KAAK;EAAEC,KAAK;EAAEC,cAAc,GAAG;AAAK,CAAC,EAAE;EAC9E;EACA;EACA,MAAMC,oBAAoB,GAAGH,KAAK,IAAI,IAAI,GAAG,EAAE,CAAC,IAAI,CAAC,GAAGI,IAAI,CAACC,GAAG,CAAC,CAAC,GAAG,IAAI,GAAG,EAAE,EAAE,CAACJ,KAAK,CAAC,CAAC;EACxF,MAAMK,OAAO,GAAGJ,cAAc,aAAdA,cAAc,cAAdA,cAAc,GAAIE,IAAI,CAACG,GAAG,CAAC,MAAM,EAAEH,IAAI,CAACI,GAAG,CAAC,OAAO,EAAER,KAAK,GAAGC,KAAK,GAAG,CAAC,CAAC,CAAC;EACxF,MAAMQ,KAAK,GAAGN,oBAAoB,GAAGG,OAAO,CAAC,CAAC;;EAE9C,IAAII,KAAK,GAAG,GAAG;EACf,IAAID,KAAK,GAAG,IAAI,EAAEC,KAAK,GAAG,GAAG,CAAC,KACzB,IAAID,KAAK,GAAG,IAAI,EAAEC,KAAK,GAAG,GAAG,CAAC,KAC9B,IAAID,KAAK,GAAG,IAAI,EAAEC,KAAK,GAAG,GAAG,CAAC,KAC9B,IAAID,KAAK,GAAG,IAAI,EAAEC,KAAK,GAAG,GAAG,CAAC,KAC9BA,KAAK,GAAG,GAAG;;EAEhB;EACA;EACA,IAAIC,MAAM,GAAG,GAAG;EAChB,IAAID,KAAK,IAAI,GAAG,EAAEC,MAAM,GAAG,CAAC,IAAI,CAAC,KAC5B,IAAID,KAAK,IAAI,GAAG,EAAEC,MAAM,GAAG,CAAC,IAAI,CAAC,KACjC,IAAID,KAAK,IAAI,GAAG,EAAEC,MAAM,GAAG,GAAG,CAAC,KAC/B,IAAID,KAAK,IAAI,GAAG,EAAEC,MAAM,GAAG,IAAI,CAAC,KAChCA,MAAM,GAAG,IAAI;EAElB,OAAO;IAAED,KAAK;IAAEC,MAAM;IAAEF;EAAM,CAAC;AACjC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
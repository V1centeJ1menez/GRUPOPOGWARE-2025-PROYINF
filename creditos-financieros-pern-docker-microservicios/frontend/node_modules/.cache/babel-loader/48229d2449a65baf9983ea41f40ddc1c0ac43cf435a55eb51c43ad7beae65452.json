{"ast":null,"code":"var _jsxFileName = \"/home/numpi/Documentos/Semestre 6/Anal/a/creditos-financieros-pern-docker-microservicios/frontend/src/pages/Simulacion.js\",\n  _s = $RefreshSig$();\nimport React, { useContext, useState, useEffect, useCallback } from \"react\";\nimport { AuthContext } from \"../context/AuthContext\";\nimport { useNavigate } from \"react-router-dom\";\nimport { crearSimulacion, obtenerHistorial, eliminarSimulacion, obtenerConfiguracion } from \"../api/simulacion\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Simulacion() {\n  _s();\n  const {\n    user\n  } = useContext(AuthContext);\n  const navigate = useNavigate();\n\n  // ==========================================\n  // ESTADOS\n  // ==========================================\n\n  // Estado de configuraciÃ³n dinÃ¡mica\n  const [config, setConfig] = useState(null);\n  const [loadingConfig, setLoadingConfig] = useState(true);\n\n  // Estado del formulario\n  const [monto, setMonto] = useState(5000000);\n  const [plazo, setPlazo] = useState(24);\n\n  // Estado de la simulaciÃ³n guardada\n  const [simulacion, setSimulacion] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [success, setSuccess] = useState(null);\n\n  // Estado del historial\n  const [historial, setHistorial] = useState([]);\n  const [mostrarTodoHistorial, setMostrarTodoHistorial] = useState(false);\n  const [loadingHistorial, setLoadingHistorial] = useState(false);\n\n  // Estado para vista previa (cÃ¡lculo local sin guardar)\n  const [vistaPrevia, setVistaPrevia] = useState(null);\n  const [mostrarAmortizacion, setMostrarAmortizacion] = useState(false);\n\n  // ==========================================\n  // CARGAR CONFIGURACIÃ“N DEL BACKEND\n  // ==========================================\n  useEffect(() => {\n    const cargarConfiguracion = async () => {\n      try {\n        const response = await obtenerConfiguracion();\n        setConfig(response.data);\n        setLoadingConfig(false);\n      } catch (err) {\n        console.error('Error al cargar configuraciÃ³n:', err);\n        // Fallback a valores por defecto en caso de error\n        setConfig({\n          tasaBaseAnual: 0.18,\n          gastosOperacionalesPorcentaje: 0.02,\n          comisionApertura: 0.015,\n          montoMinimo: 500000,\n          montoMaximo: 10000000,\n          plazoMinimo: 6,\n          plazoMaximo: 48\n        });\n        setLoadingConfig(false);\n      }\n    };\n    cargarConfiguracion();\n  }, []);\n\n  // ==========================================\n  // FUNCIONES DE FORMATO\n  // ==========================================\n\n  const formatCurrency = value => {\n    const n = Number(value);\n    if (!Number.isFinite(n)) return \"â€”\";\n    return new Intl.NumberFormat(\"es-CL\", {\n      style: \"currency\",\n      currency: \"CLP\",\n      minimumFractionDigits: 0\n    }).format(Math.round(n));\n  };\n  const formatPercent = value => {\n    const n = Number(value);\n    if (!Number.isFinite(n)) return \"â€”\";\n    return `${(n * 100).toFixed(2)}%`;\n  };\n  const formatDate = dateString => {\n    return new Date(dateString).toLocaleDateString(\"es-CL\", {\n      year: \"numeric\",\n      month: \"long\",\n      day: \"numeric\",\n      hour: \"2-digit\",\n      minute: \"2-digit\"\n    });\n  };\n\n  // ==========================================\n  // CÃLCULO DE VISTA PREVIA LOCAL\n  // ==========================================\n\n  const calcularVistaPrevia = useCallback((montoInput, plazoInput) => {\n    const m = Number(montoInput);\n    const p = Number(plazoInput);\n    if (!m || !p || m <= 0 || p <= 0) {\n      setVistaPrevia(null);\n      return;\n    }\n\n    // CÃ¡lculos financieros\n    const gastosOp = Math.round(m * CONFIG.GASTOS_OPERACIONALES_PORCENTAJE);\n    const comisionAp = Math.round(m * CONFIG.COMISION_APERTURA);\n    const montoLiq = Math.round(m - gastosOp - comisionAp);\n\n    // Cuota mensual (sistema francÃ©s)\n    const i = CONFIG.TASA_BASE_ANUAL / 12;\n    const cuota = Math.round(m * i / (1 - Math.pow(1 + i, -p)));\n    const montoTot = Math.round(cuota * p);\n    const intereses = Math.round(montoTot - m);\n    const cae = parseFloat((CONFIG.TASA_BASE_ANUAL + (gastosOp + comisionAp) / m).toFixed(6));\n    const resultado = m >= CONFIG.MONTO_MIN && p >= CONFIG.PLAZO_MIN && p <= CONFIG.PLAZO_MAX ? 'aprobado' : 'rechazado';\n    setVistaPrevia({\n      monto: m,\n      plazo: p,\n      tasaBase: CONFIG.TASA_BASE_ANUAL,\n      cae,\n      cuotaMensual: cuota,\n      montoTotal: montoTot,\n      montoLiquido: montoLiq,\n      interesesTotales: intereses,\n      gastosOperacionales: gastosOp,\n      comisionApertura: comisionAp,\n      resultado\n    });\n  }, [CONFIG.TASA_BASE_ANUAL, CONFIG.GASTOS_OPERACIONALES_PORCENTAJE, CONFIG.COMISION_APERTURA, CONFIG.MONTO_MIN, CONFIG.PLAZO_MIN, CONFIG.PLAZO_MAX]);\n\n  // Actualizar vista previa cuando cambian monto o plazo\n  useEffect(() => {\n    calcularVistaPrevia(monto, plazo);\n  }, [monto, plazo, calcularVistaPrevia]);\n\n  // ==========================================\n  // TABLA DE AMORTIZACIÃ“N\n  // ==========================================\n\n  const generarTablaAmortizacion = sim => {\n    if (!sim) return [];\n    const tabla = [];\n    let saldo = Number(sim.monto);\n    const i = Number(sim.tasaBase) / 12;\n    const cuota = Math.round(Number(sim.cuotaMensual));\n    for (let mes = 1; mes <= Number(sim.plazo); mes++) {\n      let interes = Math.round(saldo * i);\n      let capital = cuota - interes;\n      // Ajuste en la Ãºltima cuota para evitar saldo residual por redondeos\n      if (mes === Number(sim.plazo)) {\n        capital = saldo;\n        interes = Math.max(0, cuota - capital);\n      }\n      saldo = Math.max(0, Math.round(saldo - capital));\n      tabla.push({\n        mes,\n        cuota,\n        interes,\n        capital,\n        saldo\n      });\n    }\n    return tabla;\n  };\n\n  // ==========================================\n  // GESTIÃ“N DE HISTORIAL\n  // ==========================================\n\n  const cargarHistorial = useCallback(async (limit = null) => {\n    if (!(user !== null && user !== void 0 && user.token)) return;\n    setLoadingHistorial(true);\n    try {\n      const response = await obtenerHistorial(user.token, limit);\n      setHistorial(response.data);\n    } catch (err) {\n      console.error(\"Error al cargar historial:\", err);\n    } finally {\n      setLoadingHistorial(false);\n    }\n  }, [user === null || user === void 0 ? void 0 : user.token]);\n\n  // Redirigir si no hay usuario y cargar historial inicial\n  useEffect(() => {\n    if (!user) {\n      navigate(\"/login\");\n    } else {\n      cargarHistorial(4);\n    }\n  }, [user, navigate, cargarHistorial]);\n\n  // ==========================================\n  // HANDLERS\n  // ==========================================\n\n  const handleSimular = async e => {\n    e.preventDefault();\n    setError(null);\n    setSuccess(null);\n    setSimulacion(null);\n\n    // Validaciones\n    if (!monto || !plazo) {\n      setError(\"Por favor, completa todos los campos\");\n      return;\n    }\n    if (Number(monto) < CONFIG.MONTO_MIN || Number(monto) > CONFIG.MONTO_MAX) {\n      setError(`El monto debe estar entre ${formatCurrency(CONFIG.MONTO_MIN)} y ${formatCurrency(CONFIG.MONTO_MAX)}`);\n      return;\n    }\n    if (Number(plazo) < CONFIG.PLAZO_MIN || Number(plazo) > CONFIG.PLAZO_MAX) {\n      setError(`El plazo debe estar entre ${CONFIG.PLAZO_MIN} y ${CONFIG.PLAZO_MAX} meses`);\n      return;\n    }\n    setLoading(true);\n    try {\n      const response = await crearSimulacion({\n        monto: Number(monto),\n        plazo: Number(plazo)\n      }, user.token);\n      setSimulacion(response.data);\n      setSuccess(\"âœ… SimulaciÃ³n guardada exitosamente en tu historial\");\n      cargarHistorial(mostrarTodoHistorial ? null : 4);\n\n      // Limpiar mensaje de Ã©xito despuÃ©s de 5 segundos\n      setTimeout(() => setSuccess(null), 5000);\n    } catch (err) {\n      var _err$response, _err$response$data;\n      console.error(\"Error al simular:\", err);\n      setError(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.error) || \"Error al procesar la simulaciÃ³n\");\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleLimpiar = () => {\n    setMonto(5000000);\n    setPlazo(24);\n    setSimulacion(null);\n    setError(null);\n    setSuccess(null);\n  };\n  const handleEliminar = async id => {\n    if (!window.confirm(\"Â¿EstÃ¡s seguro de que deseas eliminar esta simulaciÃ³n?\")) {\n      return;\n    }\n    try {\n      await eliminarSimulacion(id, user.token);\n      cargarHistorial(mostrarTodoHistorial ? null : 4);\n      if (simulacion && simulacion.id === id) {\n        setSimulacion(null);\n      }\n      setSuccess(\"SimulaciÃ³n eliminada correctamente\");\n      setTimeout(() => setSuccess(null), 3000);\n    } catch (err) {\n      console.error(\"Error al eliminar:\", err);\n      setError(\"Error al eliminar la simulaciÃ³n\");\n    }\n  };\n  const handleVerMas = () => {\n    if (mostrarTodoHistorial) {\n      cargarHistorial(4);\n      setMostrarTodoHistorial(false);\n    } else {\n      cargarHistorial(null);\n      setMostrarTodoHistorial(true);\n    }\n  };\n  const handleSeleccionarSimulacion = sim => {\n    setSimulacion(sim);\n    setMonto(sim.monto);\n    setPlazo(sim.plazo);\n    window.scrollTo({\n      top: 0,\n      behavior: \"smooth\"\n    });\n  };\n\n  // ==========================================\n  // RENDER\n  // ==========================================\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: styles.container,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.header,\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        style: styles.title,\n        children: \"\\uD83D\\uDCB0 Simulador de Cr\\xE9dito\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 307,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: styles.subtitle,\n        children: \"Simula tu cr\\xE9dito y conoce las condiciones al instante\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 308,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.alertError,\n      children: [\"\\u274C \", error]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 315,\n      columnNumber: 9\n    }, this), success && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.alertSuccess,\n      children: success\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 321,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.mainGrid,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.card,\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          style: styles.cardTitle,\n          children: \"\\uD83D\\uDCDD Configuraci\\xF3n del Cr\\xE9dito\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 330,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.infoBox,\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"\\u2139\\uFE0F Requisitos:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 334,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            style: styles.infoList,\n            children: [/*#__PURE__*/_jsxDEV(\"li\", {\n              children: [\"Monto: \", formatCurrency(CONFIG.MONTO_MIN), \" - \", formatCurrency(CONFIG.MONTO_MAX)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 336,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [\"Plazo: \", CONFIG.PLAZO_MIN, \" a \", CONFIG.PLAZO_MAX, \" meses\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 337,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [\"Tasa base anual: \", formatPercent(CONFIG.TASA_BASE_ANUAL)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 338,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 335,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 333,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSimular,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.formGroup,\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              style: styles.label,\n              children: \"\\uD83D\\uDCB5 Monto del Cr\\xE9dito\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 345,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              value: monto,\n              onChange: e => setMonto(Number(e.target.value) || 0),\n              style: styles.input,\n              min: CONFIG.MONTO_MIN,\n              max: CONFIG.MONTO_MAX,\n              step: \"100000\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 348,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"range\",\n              value: monto,\n              onChange: e => setMonto(Number(e.target.value) || 0),\n              style: styles.slider,\n              min: CONFIG.MONTO_MIN,\n              max: CONFIG.MONTO_MAX,\n              step: \"100000\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 357,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: styles.rangeLabels,\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: formatCurrency(CONFIG.MONTO_MIN)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 367,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                style: styles.rangeValue,\n                children: formatCurrency(monto)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 368,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: formatCurrency(CONFIG.MONTO_MAX)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 369,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 366,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 344,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.formGroup,\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              style: styles.label,\n              children: \"\\uD83D\\uDCC5 Plazo (meses)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 375,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              value: plazo,\n              onChange: e => setPlazo(Number(e.target.value) || 0),\n              style: styles.input,\n              min: CONFIG.PLAZO_MIN,\n              max: CONFIG.PLAZO_MAX\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 378,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"range\",\n              value: plazo,\n              onChange: e => setPlazo(Number(e.target.value) || 0),\n              style: styles.slider,\n              min: CONFIG.PLAZO_MIN,\n              max: CONFIG.PLAZO_MAX\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 386,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: styles.rangeLabels,\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: [CONFIG.PLAZO_MIN, \" meses\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 395,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                style: styles.rangeValue,\n                children: [plazo, \" meses\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 396,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [CONFIG.PLAZO_MAX, \" meses\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 397,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 394,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 374,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.buttonGroup,\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              disabled: loading,\n              style: {\n                ...styles.button,\n                ...styles.buttonPrimary,\n                ...(loading ? styles.buttonDisabled : {})\n              },\n              children: loading ? \"ðŸ’¾ Guardando...\" : \"ðŸ’¾ Guardar SimulaciÃ³n\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 403,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: handleLimpiar,\n              style: {\n                ...styles.button,\n                ...styles.buttonSecondary\n              },\n              children: \"\\uD83D\\uDD04 Limpiar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 414,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 402,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 342,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 329,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.card,\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          style: styles.cardTitle,\n          children: \"\\uD83D\\uDCCA Vista Previa\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 427,\n          columnNumber: 11\n        }, this), vistaPrevia ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              ...styles.badge,\n              ...(vistaPrevia.resultado === 'aprobado' ? styles.badgeSuccess : styles.badgeError)\n            },\n            children: vistaPrevia.resultado === 'aprobado' ? 'âœ… Aprobado' : 'âŒ Rechazado'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 432,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.cuotaBox,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: styles.cuotaLabel,\n              children: \"Tu cuota mensual ser\\xE1:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 441,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: styles.cuotaValue,\n              children: formatCurrency(vistaPrevia.cuotaMensual)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 442,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: styles.cuotaSubtext,\n              children: [\"por \", vistaPrevia.plazo, \" meses\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 443,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 440,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.detailsGrid,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: styles.detailItem,\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"\\uD83D\\uDCB0 Total a Pagar:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 449,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: formatCurrency(vistaPrevia.montoTotal)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 450,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 448,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: styles.detailItem,\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"\\uD83D\\uDCB5 Monto Solicitado:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 453,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: formatCurrency(vistaPrevia.monto)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 454,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 452,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: styles.detailItem,\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"\\uD83D\\uDCB8 Recibir\\xE1s (l\\xEDquido):\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 457,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n                style: {\n                  color: '#28a745'\n                },\n                children: formatCurrency(vistaPrevia.montoLiquido)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 458,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 456,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: styles.detailItem,\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"\\uD83D\\uDCC8 Intereses Totales:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 461,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n                style: {\n                  color: '#dc3545'\n                },\n                children: formatCurrency(vistaPrevia.interesesTotales)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 462,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 460,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: styles.detailItem,\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"\\uD83D\\uDD27 Gastos Operacionales:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 465,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: formatCurrency(vistaPrevia.gastosOperacionales)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 466,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 464,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: styles.detailItem,\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"\\uD83D\\uDCDD Comisi\\xF3n Apertura:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 469,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: formatCurrency(vistaPrevia.comisionApertura)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 470,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 468,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: styles.detailItem,\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"\\uD83D\\uDCCA Tasa Base:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 473,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: formatPercent(vistaPrevia.tasaBase)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 474,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 472,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: styles.detailItem,\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"\\uD83D\\uDCC8 CAE:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 477,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n                style: {\n                  color: '#ff6b6b'\n                },\n                children: formatPercent(vistaPrevia.cae)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 478,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 476,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 447,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.warningBox,\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"\\uD83D\\uDCA1 \\xBFQu\\xE9 es el CAE?\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 484,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                margin: '8px 0 0 0',\n                fontSize: '13px'\n              },\n              children: \"La Carga Anual Equivalente incluye todos los costos del cr\\xE9dito (tasa base + gastos + comisiones) y te permite comparar diferentes opciones.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 485,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 483,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true) : /*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.emptyState,\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"\\uD83D\\uDCCB Ajusta los valores para ver la simulaci\\xF3n\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 493,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 492,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 426,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 327,\n      columnNumber: 7\n    }, this), simulacion && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.card,\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        style: styles.cardTitle,\n        children: [\"\\u2705 Simulaci\\xF3n Guardada #\", simulacion.id]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 502,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.savedSimInfo,\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            margin: 0\n          },\n          children: [\"Guardada el \", formatDate(simulacion.fecha)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 504,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setMostrarAmortizacion(!mostrarAmortizacion),\n          style: {\n            ...styles.button,\n            ...styles.buttonSecondary,\n            marginTop: '16px'\n          },\n          children: [mostrarAmortizacion ? 'ðŸ“Š Ocultar' : 'ðŸ“Š Ver', \" Tabla de Amortizaci\\xF3n\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 507,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 503,\n        columnNumber: 11\n      }, this), mostrarAmortizacion && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: '24px',\n          overflowX: 'auto'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          style: styles.table,\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                style: styles.th,\n                children: \"Mes\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 521,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: styles.th,\n                children: \"Cuota\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 522,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: styles.th,\n                children: \"Inter\\xE9s\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 523,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: styles.th,\n                children: \"Capital\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 524,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: styles.th,\n                children: \"Saldo\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 525,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 520,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 519,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: generarTablaAmortizacion(simulacion).map(row => /*#__PURE__*/_jsxDEV(\"tr\", {\n              style: row.mes % 2 === 0 ? styles.trEven : {},\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                style: styles.td,\n                children: row.mes\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 531,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                style: styles.td,\n                children: formatCurrency(row.cuota)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 532,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                style: styles.td,\n                children: formatCurrency(row.interes)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 533,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                style: styles.td,\n                children: formatCurrency(row.capital)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 534,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                style: styles.td,\n                children: formatCurrency(row.saldo)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 535,\n                columnNumber: 23\n              }, this)]\n            }, row.mes, true, {\n              fileName: _jsxFileName,\n              lineNumber: 530,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 528,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 518,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 517,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 501,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.card,\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        style: styles.cardTitle,\n        children: \"\\uD83D\\uDCDA Historial de Simulaciones\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 547,\n        columnNumber: 9\n      }, this), loadingHistorial ? /*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.loading,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.spinner\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 551,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Cargando historial...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 552,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 550,\n        columnNumber: 11\n      }, this) : historial.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.emptyState,\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            fontSize: '18px',\n            marginBottom: '8px'\n          },\n          children: \"No tienes simulaciones previas\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 556,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            fontSize: '14px',\n            color: '#6c757d'\n          },\n          children: \"Guarda tu primera simulaci\\xF3n usando el bot\\xF3n \\\"Guardar Simulaci\\xF3n\\\"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 559,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 555,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.historialGrid,\n          children: historial.map(sim => /*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.historialCard,\n            onClick: () => handleSeleccionarSimulacion(sim),\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: styles.historialHeader,\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  ...styles.historialBadge,\n                  ...(sim.resultado === 'aprobado' ? styles.badgeSuccess : styles.badgeError)\n                },\n                children: sim.resultado.toUpperCase()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 573,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: e => {\n                  e.stopPropagation();\n                  handleEliminar(sim.id);\n                },\n                style: styles.deleteButton,\n                title: \"Eliminar\",\n                children: \"\\uD83D\\uDDD1\\uFE0F\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 579,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 572,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'flex',\n                justifyContent: 'flex-end',\n                marginBottom: '8px'\n              },\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: e => {\n                  e.stopPropagation();\n                  navigate(`/simulacion/${sim.id}`);\n                },\n                style: {\n                  background: 'none',\n                  border: 'none',\n                  color: '#007bff',\n                  cursor: 'pointer',\n                  fontSize: '13px',\n                  textDecoration: 'underline'\n                },\n                title: \"Ver detalle\",\n                children: \"Ver detalle \\u2192\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 592,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 591,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: styles.historialCuota,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: styles.historialCuotaValue,\n                children: formatCurrency(sim.cuotaMensual)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 609,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: styles.historialCuotaLabel,\n                children: \"Cuota mensual\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 612,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 608,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: styles.historialDetails,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: styles.historialDetailRow,\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Monto:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 617,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: formatCurrency(sim.monto)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 618,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 616,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: styles.historialDetailRow,\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Plazo:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 621,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: [sim.plazo, \" meses\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 622,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 620,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: styles.historialDetailRow,\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"CAE:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 625,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: formatPercent(sim.cae)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 626,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 624,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 615,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: styles.historialFooter,\n              children: formatDate(sim.fecha)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 630,\n              columnNumber: 19\n            }, this)]\n          }, sim.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 567,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 565,\n          columnNumber: 13\n        }, this), historial.length >= 4 && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            textAlign: 'center',\n            marginTop: '24px'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleVerMas,\n            style: {\n              ...styles.button,\n              ...styles.buttonSecondary\n            },\n            children: mostrarTodoHistorial ? 'Ver Menos â–²' : 'Ver MÃ¡s â–¼'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 639,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 638,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 546,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 304,\n    columnNumber: 5\n  }, this);\n}\n\n// ==========================================\n// ESTILOS\n// ==========================================\n_s(Simulacion, \"4MemnX5y/gTqRotnelRWOs1NNAE=\", false, function () {\n  return [useNavigate];\n});\n_c = Simulacion;\nconst styles = {\n  container: {\n    maxWidth: '1400px',\n    margin: '0 auto',\n    padding: '24px',\n    fontFamily: '-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, sans-serif'\n  },\n  header: {\n    textAlign: 'center',\n    marginBottom: '32px'\n  },\n  title: {\n    fontSize: '2.5rem',\n    color: '#2c3e50',\n    marginBottom: '8px'\n  },\n  subtitle: {\n    fontSize: '1.1rem',\n    color: '#6c757d'\n  },\n  alertError: {\n    backgroundColor: '#f8d7da',\n    color: '#721c24',\n    padding: '16px',\n    borderRadius: '8px',\n    marginBottom: '24px',\n    borderLeft: '4px solid #dc3545'\n  },\n  alertSuccess: {\n    backgroundColor: '#d4edda',\n    color: '#155724',\n    padding: '16px',\n    borderRadius: '8px',\n    marginBottom: '24px',\n    borderLeft: '4px solid #28a745'\n  },\n  mainGrid: {\n    display: 'grid',\n    gridTemplateColumns: 'repeat(auto-fit, minmax(500px, 1fr))',\n    gap: '24px',\n    marginBottom: '32px'\n  },\n  card: {\n    backgroundColor: 'white',\n    borderRadius: '12px',\n    padding: '24px',\n    boxShadow: '0 2px 8px rgba(0,0,0,0.1)'\n  },\n  cardTitle: {\n    fontSize: '1.5rem',\n    color: '#2c3e50',\n    marginTop: 0,\n    marginBottom: '20px'\n  },\n  infoBox: {\n    backgroundColor: '#e3f2fd',\n    padding: '16px',\n    borderRadius: '8px',\n    marginBottom: '24px',\n    borderLeft: '4px solid #2196f3',\n    fontSize: '14px'\n  },\n  infoList: {\n    margin: '8px 0 0 20px',\n    padding: 0\n  },\n  formGroup: {\n    marginBottom: '24px'\n  },\n  label: {\n    display: 'block',\n    fontWeight: '600',\n    marginBottom: '8px',\n    color: '#495057'\n  },\n  input: {\n    width: '100%',\n    padding: '12px',\n    fontSize: '16px',\n    border: '2px solid #dee2e6',\n    borderRadius: '8px',\n    marginBottom: '8px',\n    boxSizing: 'border-box'\n  },\n  slider: {\n    width: '100%',\n    height: '8px',\n    borderRadius: '4px',\n    background: 'linear-gradient(to right, #667eea, #764ba2)',\n    outline: 'none',\n    marginTop: '8px'\n  },\n  rangeLabels: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    fontSize: '12px',\n    color: '#6c757d',\n    marginTop: '4px'\n  },\n  rangeValue: {\n    fontWeight: 'bold',\n    color: '#667eea',\n    fontSize: '14px'\n  },\n  buttonGroup: {\n    display: 'flex',\n    gap: '12px'\n  },\n  button: {\n    flex: 1,\n    padding: '12px 24px',\n    fontSize: '16px',\n    fontWeight: '600',\n    border: 'none',\n    borderRadius: '8px',\n    cursor: 'pointer',\n    transition: 'all 0.3s'\n  },\n  buttonPrimary: {\n    background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\n    color: 'white'\n  },\n  buttonSecondary: {\n    backgroundColor: '#f8f9fa',\n    color: '#495057',\n    border: '1px solid #dee2e6'\n  },\n  buttonDisabled: {\n    opacity: 0.6,\n    cursor: 'not-allowed'\n  },\n  badge: {\n    display: 'inline-block',\n    padding: '8px 16px',\n    borderRadius: '20px',\n    fontSize: '14px',\n    fontWeight: '600',\n    marginBottom: '20px'\n  },\n  badgeSuccess: {\n    backgroundColor: '#d4edda',\n    color: '#155724'\n  },\n  badgeError: {\n    backgroundColor: '#f8d7da',\n    color: '#721c24'\n  },\n  cuotaBox: {\n    backgroundColor: '#f0f4ff',\n    padding: '24px',\n    borderRadius: '12px',\n    textAlign: 'center',\n    marginBottom: '24px'\n  },\n  cuotaLabel: {\n    fontSize: '14px',\n    color: '#6c757d',\n    marginBottom: '8px'\n  },\n  cuotaValue: {\n    fontSize: '36px',\n    fontWeight: 'bold',\n    color: '#667eea'\n  },\n  cuotaSubtext: {\n    fontSize: '14px',\n    color: '#6c757d',\n    marginTop: '8px'\n  },\n  detailsGrid: {\n    display: 'grid',\n    gridTemplateColumns: '1fr',\n    gap: '12px',\n    marginBottom: '20px'\n  },\n  detailItem: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    padding: '12px',\n    backgroundColor: '#f8f9fa',\n    borderRadius: '6px',\n    fontSize: '14px'\n  },\n  warningBox: {\n    backgroundColor: '#fff3cd',\n    padding: '16px',\n    borderRadius: '8px',\n    borderLeft: '4px solid #ffc107',\n    fontSize: '14px',\n    color: '#856404'\n  },\n  emptyState: {\n    textAlign: 'center',\n    padding: '48px 24px',\n    color: '#6c757d'\n  },\n  savedSimInfo: {\n    backgroundColor: '#f8f9fa',\n    padding: '16px',\n    borderRadius: '8px',\n    textAlign: 'center'\n  },\n  table: {\n    width: '100%',\n    borderCollapse: 'collapse',\n    fontSize: '14px'\n  },\n  th: {\n    backgroundColor: '#f8f9fa',\n    padding: '12px',\n    textAlign: 'left',\n    fontWeight: '600',\n    borderBottom: '2px solid #dee2e6'\n  },\n  td: {\n    padding: '12px',\n    borderBottom: '1px solid #dee2e6'\n  },\n  trEven: {\n    backgroundColor: '#f8f9fa'\n  },\n  loading: {\n    textAlign: 'center',\n    padding: '48px',\n    color: '#6c757d'\n  },\n  spinner: {\n    border: '4px solid #f3f3f3',\n    borderTop: '4px solid #667eea',\n    borderRadius: '50%',\n    width: '40px',\n    height: '40px',\n    animation: 'spin 1s linear infinite',\n    margin: '0 auto 16px'\n  },\n  historialGrid: {\n    display: 'grid',\n    gridTemplateColumns: 'repeat(auto-fill, minmax(280px, 1fr))',\n    gap: '16px',\n    marginBottom: '16px'\n  },\n  historialCard: {\n    backgroundColor: 'white',\n    border: '2px solid #dee2e6',\n    borderRadius: '12px',\n    padding: '16px',\n    cursor: 'pointer',\n    transition: 'all 0.3s'\n  },\n  historialHeader: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: '12px'\n  },\n  historialBadge: {\n    fontSize: '11px',\n    padding: '4px 8px',\n    borderRadius: '12px'\n  },\n  deleteButton: {\n    background: 'none',\n    border: 'none',\n    fontSize: '18px',\n    cursor: 'pointer',\n    padding: '4px 8px'\n  },\n  historialCuota: {\n    marginBottom: '16px'\n  },\n  historialCuotaValue: {\n    fontSize: '24px',\n    fontWeight: 'bold',\n    color: '#667eea'\n  },\n  historialCuotaLabel: {\n    fontSize: '12px',\n    color: '#6c757d'\n  },\n  historialDetails: {\n    fontSize: '14px',\n    marginBottom: '12px'\n  },\n  historialDetailRow: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    marginBottom: '4px'\n  },\n  historialFooter: {\n    fontSize: '11px',\n    color: '#999',\n    paddingTop: '12px',\n    borderTop: '1px solid #eee'\n  }\n};\n\n// Agregar animaciÃ³n para el spinner\nconst styleSheet = document.createElement(\"style\");\nstyleSheet.textContent = `\n  @keyframes spin {\n    0% { transform: rotate(0deg); }\n    100% { transform: rotate(360deg); }\n  }\n  \n  .historial-card:hover {\n    transform: translateY(-4px);\n    box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);\n    border-color: #667eea;\n  }\n`;\ndocument.head.appendChild(styleSheet);\nvar _c;\n$RefreshReg$(_c, \"Simulacion\");","map":{"version":3,"names":["React","useContext","useState","useEffect","useCallback","AuthContext","useNavigate","crearSimulacion","obtenerHistorial","eliminarSimulacion","obtenerConfiguracion","jsxDEV","_jsxDEV","Fragment","_Fragment","Simulacion","_s","user","navigate","config","setConfig","loadingConfig","setLoadingConfig","monto","setMonto","plazo","setPlazo","simulacion","setSimulacion","loading","setLoading","error","setError","success","setSuccess","historial","setHistorial","mostrarTodoHistorial","setMostrarTodoHistorial","loadingHistorial","setLoadingHistorial","vistaPrevia","setVistaPrevia","mostrarAmortizacion","setMostrarAmortizacion","cargarConfiguracion","response","data","err","console","tasaBaseAnual","gastosOperacionalesPorcentaje","comisionApertura","montoMinimo","montoMaximo","plazoMinimo","plazoMaximo","formatCurrency","value","n","Number","isFinite","Intl","NumberFormat","style","currency","minimumFractionDigits","format","Math","round","formatPercent","toFixed","formatDate","dateString","Date","toLocaleDateString","year","month","day","hour","minute","calcularVistaPrevia","montoInput","plazoInput","m","p","gastosOp","CONFIG","GASTOS_OPERACIONALES_PORCENTAJE","comisionAp","COMISION_APERTURA","montoLiq","i","TASA_BASE_ANUAL","cuota","pow","montoTot","intereses","cae","parseFloat","resultado","MONTO_MIN","PLAZO_MIN","PLAZO_MAX","tasaBase","cuotaMensual","montoTotal","montoLiquido","interesesTotales","gastosOperacionales","generarTablaAmortizacion","sim","tabla","saldo","mes","interes","capital","max","push","cargarHistorial","limit","token","handleSimular","e","preventDefault","MONTO_MAX","setTimeout","_err$response","_err$response$data","handleLimpiar","handleEliminar","id","window","confirm","handleVerMas","handleSeleccionarSimulacion","scrollTo","top","behavior","styles","container","children","header","title","fileName","_jsxFileName","lineNumber","columnNumber","subtitle","alertError","alertSuccess","mainGrid","card","cardTitle","infoBox","infoList","onSubmit","formGroup","label","type","onChange","target","input","min","step","slider","rangeLabels","rangeValue","buttonGroup","disabled","button","buttonPrimary","buttonDisabled","onClick","buttonSecondary","badge","badgeSuccess","badgeError","cuotaBox","cuotaLabel","cuotaValue","cuotaSubtext","detailsGrid","detailItem","color","warningBox","margin","fontSize","emptyState","savedSimInfo","fecha","marginTop","overflowX","table","th","map","row","trEven","td","spinner","length","marginBottom","historialGrid","historialCard","historialHeader","historialBadge","toUpperCase","stopPropagation","deleteButton","display","justifyContent","background","border","cursor","textDecoration","historialCuota","historialCuotaValue","historialCuotaLabel","historialDetails","historialDetailRow","historialFooter","textAlign","_c","maxWidth","padding","fontFamily","backgroundColor","borderRadius","borderLeft","gridTemplateColumns","gap","boxShadow","fontWeight","width","boxSizing","height","outline","flex","transition","opacity","borderCollapse","borderBottom","borderTop","animation","alignItems","paddingTop","styleSheet","document","createElement","textContent","head","appendChild","$RefreshReg$"],"sources":["/home/numpi/Documentos/Semestre 6/Anal/a/creditos-financieros-pern-docker-microservicios/frontend/src/pages/Simulacion.js"],"sourcesContent":["import React, { useContext, useState, useEffect, useCallback } from \"react\";\nimport { AuthContext } from \"../context/AuthContext\";\nimport { useNavigate } from \"react-router-dom\";\nimport { crearSimulacion, obtenerHistorial, eliminarSimulacion, obtenerConfiguracion } from \"../api/simulacion\";\n\nexport default function Simulacion() {\n  const { user } = useContext(AuthContext);\n  const navigate = useNavigate();\n\n  // ==========================================\n  // ESTADOS\n  // ==========================================\n  \n  // Estado de configuraciÃ³n dinÃ¡mica\n  const [config, setConfig] = useState(null);\n  const [loadingConfig, setLoadingConfig] = useState(true);\n  \n  // Estado del formulario\n  const [monto, setMonto] = useState(5000000);\n  const [plazo, setPlazo] = useState(24);\n  \n  // Estado de la simulaciÃ³n guardada\n  const [simulacion, setSimulacion] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [success, setSuccess] = useState(null);\n\n  // Estado del historial\n  const [historial, setHistorial] = useState([]);\n  const [mostrarTodoHistorial, setMostrarTodoHistorial] = useState(false);\n  const [loadingHistorial, setLoadingHistorial] = useState(false);\n\n  // Estado para vista previa (cÃ¡lculo local sin guardar)\n  const [vistaPrevia, setVistaPrevia] = useState(null);\n  const [mostrarAmortizacion, setMostrarAmortizacion] = useState(false);\n\n  // ==========================================\n  // CARGAR CONFIGURACIÃ“N DEL BACKEND\n  // ==========================================\n  useEffect(() => {\n    const cargarConfiguracion = async () => {\n      try {\n        const response = await obtenerConfiguracion();\n        setConfig(response.data);\n        setLoadingConfig(false);\n      } catch (err) {\n        console.error('Error al cargar configuraciÃ³n:', err);\n        // Fallback a valores por defecto en caso de error\n        setConfig({\n          tasaBaseAnual: 0.18,\n          gastosOperacionalesPorcentaje: 0.02,\n          comisionApertura: 0.015,\n          montoMinimo: 500000,\n          montoMaximo: 10000000,\n          plazoMinimo: 6,\n          plazoMaximo: 48,\n        });\n        setLoadingConfig(false);\n      }\n    };\n    cargarConfiguracion();\n  }, []);\n\n  // ==========================================\n  // FUNCIONES DE FORMATO\n  // ==========================================\n  \n  const formatCurrency = (value) => {\n    const n = Number(value);\n    if (!Number.isFinite(n)) return \"â€”\";\n    return new Intl.NumberFormat(\"es-CL\", {\n      style: \"currency\",\n      currency: \"CLP\",\n      minimumFractionDigits: 0,\n    }).format(Math.round(n));\n  };\n\n  const formatPercent = (value) => {\n    const n = Number(value);\n    if (!Number.isFinite(n)) return \"â€”\";\n    return `${(n * 100).toFixed(2)}%`;\n  };\n\n  const formatDate = (dateString) => {\n    return new Date(dateString).toLocaleDateString(\"es-CL\", {\n      year: \"numeric\",\n      month: \"long\",\n      day: \"numeric\",\n      hour: \"2-digit\",\n      minute: \"2-digit\",\n    });\n  };\n\n  // ==========================================\n  // CÃLCULO DE VISTA PREVIA LOCAL\n  // ==========================================\n  \n  const calcularVistaPrevia = useCallback((montoInput, plazoInput) => {\n    const m = Number(montoInput);\n    const p = Number(plazoInput);\n\n    if (!m || !p || m <= 0 || p <= 0) {\n      setVistaPrevia(null);\n      return;\n    }\n\n    // CÃ¡lculos financieros\n    const gastosOp = Math.round(m * CONFIG.GASTOS_OPERACIONALES_PORCENTAJE);\n    const comisionAp = Math.round(m * CONFIG.COMISION_APERTURA);\n    const montoLiq = Math.round(m - gastosOp - comisionAp);\n\n    // Cuota mensual (sistema francÃ©s)\n    const i = CONFIG.TASA_BASE_ANUAL / 12;\n    const cuota = Math.round(m * i / (1 - Math.pow(1 + i, -p)));\n\n    const montoTot = Math.round(cuota * p);\n    const intereses = Math.round(montoTot - m);\n    const cae = parseFloat((CONFIG.TASA_BASE_ANUAL + ((gastosOp + comisionAp) / m)).toFixed(6));\n    const resultado = m >= CONFIG.MONTO_MIN && p >= CONFIG.PLAZO_MIN && p <= CONFIG.PLAZO_MAX ? 'aprobado' : 'rechazado';\n\n    setVistaPrevia({\n      monto: m,\n      plazo: p,\n      tasaBase: CONFIG.TASA_BASE_ANUAL,\n      cae,\n      cuotaMensual: cuota,\n      montoTotal: montoTot,\n      montoLiquido: montoLiq,\n      interesesTotales: intereses,\n      gastosOperacionales: gastosOp,\n      comisionApertura: comisionAp,\n      resultado,\n    });\n  }, [CONFIG.TASA_BASE_ANUAL, CONFIG.GASTOS_OPERACIONALES_PORCENTAJE, CONFIG.COMISION_APERTURA, CONFIG.MONTO_MIN, CONFIG.PLAZO_MIN, CONFIG.PLAZO_MAX]);\n\n  // Actualizar vista previa cuando cambian monto o plazo\n  useEffect(() => {\n    calcularVistaPrevia(monto, plazo);\n  }, [monto, plazo, calcularVistaPrevia]);\n\n  // ==========================================\n  // TABLA DE AMORTIZACIÃ“N\n  // ==========================================\n  \n  const generarTablaAmortizacion = (sim) => {\n    if (!sim) return [];\n\n    const tabla = [];\n    let saldo = Number(sim.monto);\n    const i = Number(sim.tasaBase) / 12;\n    const cuota = Math.round(Number(sim.cuotaMensual));\n\n    for (let mes = 1; mes <= Number(sim.plazo); mes++) {\n      let interes = Math.round(saldo * i);\n      let capital = cuota - interes;\n      // Ajuste en la Ãºltima cuota para evitar saldo residual por redondeos\n      if (mes === Number(sim.plazo)) {\n        capital = saldo;\n        interes = Math.max(0, cuota - capital);\n      }\n      saldo = Math.max(0, Math.round(saldo - capital));\n\n      tabla.push({\n        mes,\n        cuota,\n        interes,\n        capital,\n        saldo,\n      });\n    }\n\n    return tabla;\n  };\n\n  // ==========================================\n  // GESTIÃ“N DE HISTORIAL\n  // ==========================================\n  \n  const cargarHistorial = useCallback(async (limit = null) => {\n    if (!user?.token) return;\n    \n    setLoadingHistorial(true);\n    try {\n      const response = await obtenerHistorial(user.token, limit);\n      setHistorial(response.data);\n    } catch (err) {\n      console.error(\"Error al cargar historial:\", err);\n    } finally {\n      setLoadingHistorial(false);\n    }\n  }, [user?.token]);\n\n  // Redirigir si no hay usuario y cargar historial inicial\n  useEffect(() => {\n    if (!user) {\n      navigate(\"/login\");\n    } else {\n      cargarHistorial(4);\n    }\n  }, [user, navigate, cargarHistorial]);\n\n  // ==========================================\n  // HANDLERS\n  // ==========================================\n  \n  const handleSimular = async (e) => {\n    e.preventDefault();\n    setError(null);\n    setSuccess(null);\n    setSimulacion(null);\n\n    // Validaciones\n    if (!monto || !plazo) {\n      setError(\"Por favor, completa todos los campos\");\n      return;\n    }\n\n    if (Number(monto) < CONFIG.MONTO_MIN || Number(monto) > CONFIG.MONTO_MAX) {\n      setError(`El monto debe estar entre ${formatCurrency(CONFIG.MONTO_MIN)} y ${formatCurrency(CONFIG.MONTO_MAX)}`);\n      return;\n    }\n\n    if (Number(plazo) < CONFIG.PLAZO_MIN || Number(plazo) > CONFIG.PLAZO_MAX) {\n      setError(`El plazo debe estar entre ${CONFIG.PLAZO_MIN} y ${CONFIG.PLAZO_MAX} meses`);\n      return;\n    }\n\n    setLoading(true);\n\n    try {\n      const response = await crearSimulacion(\n        {\n          monto: Number(monto),\n          plazo: Number(plazo),\n        },\n        user.token\n      );\n\n      setSimulacion(response.data);\n      setSuccess(\"âœ… SimulaciÃ³n guardada exitosamente en tu historial\");\n      cargarHistorial(mostrarTodoHistorial ? null : 4);\n      \n      // Limpiar mensaje de Ã©xito despuÃ©s de 5 segundos\n      setTimeout(() => setSuccess(null), 5000);\n    } catch (err) {\n      console.error(\"Error al simular:\", err);\n      setError(err.response?.data?.error || \"Error al procesar la simulaciÃ³n\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleLimpiar = () => {\n    setMonto(5000000);\n    setPlazo(24);\n    setSimulacion(null);\n    setError(null);\n    setSuccess(null);\n  };\n\n  const handleEliminar = async (id) => {\n    if (!window.confirm(\"Â¿EstÃ¡s seguro de que deseas eliminar esta simulaciÃ³n?\")) {\n      return;\n    }\n\n    try {\n      await eliminarSimulacion(id, user.token);\n      cargarHistorial(mostrarTodoHistorial ? null : 4);\n      \n      if (simulacion && simulacion.id === id) {\n        setSimulacion(null);\n      }\n      \n      setSuccess(\"SimulaciÃ³n eliminada correctamente\");\n      setTimeout(() => setSuccess(null), 3000);\n    } catch (err) {\n      console.error(\"Error al eliminar:\", err);\n      setError(\"Error al eliminar la simulaciÃ³n\");\n    }\n  };\n\n  const handleVerMas = () => {\n    if (mostrarTodoHistorial) {\n      cargarHistorial(4);\n      setMostrarTodoHistorial(false);\n    } else {\n      cargarHistorial(null);\n      setMostrarTodoHistorial(true);\n    }\n  };\n\n  const handleSeleccionarSimulacion = (sim) => {\n    setSimulacion(sim);\n    setMonto(sim.monto);\n    setPlazo(sim.plazo);\n    window.scrollTo({ top: 0, behavior: \"smooth\" });\n  };\n\n  // ==========================================\n  // RENDER\n  // ==========================================\n  \n  return (\n    <div style={styles.container}>\n      {/* Header */}\n      <div style={styles.header}>\n        <h1 style={styles.title}>ðŸ’° Simulador de CrÃ©dito</h1>\n        <p style={styles.subtitle}>\n          Simula tu crÃ©dito y conoce las condiciones al instante\n        </p>\n      </div>\n\n      {/* Alertas */}\n      {error && (\n        <div style={styles.alertError}>\n          âŒ {error}\n        </div>\n      )}\n      \n      {success && (\n        <div style={styles.alertSuccess}>\n          {success}\n        </div>\n      )}\n\n      {/* Grid Principal */}\n      <div style={styles.mainGrid}>\n        {/* Columna Izquierda: Formulario */}\n        <div style={styles.card}>\n          <h2 style={styles.cardTitle}>ðŸ“ ConfiguraciÃ³n del CrÃ©dito</h2>\n          \n          {/* Info Box */}\n          <div style={styles.infoBox}>\n            <strong>â„¹ï¸ Requisitos:</strong>\n            <ul style={styles.infoList}>\n              <li>Monto: {formatCurrency(CONFIG.MONTO_MIN)} - {formatCurrency(CONFIG.MONTO_MAX)}</li>\n              <li>Plazo: {CONFIG.PLAZO_MIN} a {CONFIG.PLAZO_MAX} meses</li>\n              <li>Tasa base anual: {formatPercent(CONFIG.TASA_BASE_ANUAL)}</li>\n            </ul>\n          </div>\n\n          <form onSubmit={handleSimular}>\n            {/* Monto */}\n            <div style={styles.formGroup}>\n              <label style={styles.label}>\n                ðŸ’µ Monto del CrÃ©dito\n              </label>\n              <input\n                type=\"number\"\n                value={monto}\n                onChange={(e) => setMonto(Number(e.target.value) || 0)}\n                style={styles.input}\n                min={CONFIG.MONTO_MIN}\n                max={CONFIG.MONTO_MAX}\n                step=\"100000\"\n              />\n              <input\n                type=\"range\"\n                value={monto}\n                onChange={(e) => setMonto(Number(e.target.value) || 0)}\n                style={styles.slider}\n                min={CONFIG.MONTO_MIN}\n                max={CONFIG.MONTO_MAX}\n                step=\"100000\"\n              />\n              <div style={styles.rangeLabels}>\n                <span>{formatCurrency(CONFIG.MONTO_MIN)}</span>\n                <span style={styles.rangeValue}>{formatCurrency(monto)}</span>\n                <span>{formatCurrency(CONFIG.MONTO_MAX)}</span>\n              </div>\n            </div>\n\n            {/* Plazo */}\n            <div style={styles.formGroup}>\n              <label style={styles.label}>\n                ðŸ“… Plazo (meses)\n              </label>\n              <input\n                type=\"number\"\n                value={plazo}\n                onChange={(e) => setPlazo(Number(e.target.value) || 0)}\n                style={styles.input}\n                min={CONFIG.PLAZO_MIN}\n                max={CONFIG.PLAZO_MAX}\n              />\n              <input\n                type=\"range\"\n                value={plazo}\n                onChange={(e) => setPlazo(Number(e.target.value) || 0)}\n                style={styles.slider}\n                min={CONFIG.PLAZO_MIN}\n                max={CONFIG.PLAZO_MAX}\n              />\n              <div style={styles.rangeLabels}>\n                <span>{CONFIG.PLAZO_MIN} meses</span>\n                <span style={styles.rangeValue}>{plazo} meses</span>\n                <span>{CONFIG.PLAZO_MAX} meses</span>\n              </div>\n            </div>\n\n            {/* Botones */}\n            <div style={styles.buttonGroup}>\n              <button\n                type=\"submit\"\n                disabled={loading}\n                style={{\n                  ...styles.button,\n                  ...styles.buttonPrimary,\n                  ...(loading ? styles.buttonDisabled : {}),\n                }}\n              >\n                {loading ? \"ðŸ’¾ Guardando...\" : \"ðŸ’¾ Guardar SimulaciÃ³n\"}\n              </button>\n              <button\n                type=\"button\"\n                onClick={handleLimpiar}\n                style={{...styles.button, ...styles.buttonSecondary}}\n              >\n                ðŸ”„ Limpiar\n              </button>\n            </div>\n          </form>\n        </div>\n\n        {/* Columna Derecha: Vista Previa */}\n        <div style={styles.card}>\n          <h2 style={styles.cardTitle}>ðŸ“Š Vista Previa</h2>\n          \n          {vistaPrevia ? (\n            <>\n              {/* Badge de Estado */}\n              <div style={{\n                ...styles.badge,\n                ...(vistaPrevia.resultado === 'aprobado' ? styles.badgeSuccess : styles.badgeError)\n              }}>\n                {vistaPrevia.resultado === 'aprobado' ? 'âœ… Aprobado' : 'âŒ Rechazado'}\n              </div>\n\n              {/* Cuota Destacada */}\n              <div style={styles.cuotaBox}>\n                <div style={styles.cuotaLabel}>Tu cuota mensual serÃ¡:</div>\n                <div style={styles.cuotaValue}>{formatCurrency(vistaPrevia.cuotaMensual)}</div>\n                <div style={styles.cuotaSubtext}>por {vistaPrevia.plazo} meses</div>\n              </div>\n\n              {/* Detalles */}\n              <div style={styles.detailsGrid}>\n                <div style={styles.detailItem}>\n                  <span>ðŸ’° Total a Pagar:</span>\n                  <strong>{formatCurrency(vistaPrevia.montoTotal)}</strong>\n                </div>\n                <div style={styles.detailItem}>\n                  <span>ðŸ’µ Monto Solicitado:</span>\n                  <strong>{formatCurrency(vistaPrevia.monto)}</strong>\n                </div>\n                <div style={styles.detailItem}>\n                  <span>ðŸ’¸ RecibirÃ¡s (lÃ­quido):</span>\n                  <strong style={{color: '#28a745'}}>{formatCurrency(vistaPrevia.montoLiquido)}</strong>\n                </div>\n                <div style={styles.detailItem}>\n                  <span>ðŸ“ˆ Intereses Totales:</span>\n                  <strong style={{color: '#dc3545'}}>{formatCurrency(vistaPrevia.interesesTotales)}</strong>\n                </div>\n                <div style={styles.detailItem}>\n                  <span>ðŸ”§ Gastos Operacionales:</span>\n                  <strong>{formatCurrency(vistaPrevia.gastosOperacionales)}</strong>\n                </div>\n                <div style={styles.detailItem}>\n                  <span>ðŸ“ ComisiÃ³n Apertura:</span>\n                  <strong>{formatCurrency(vistaPrevia.comisionApertura)}</strong>\n                </div>\n                <div style={styles.detailItem}>\n                  <span>ðŸ“Š Tasa Base:</span>\n                  <strong>{formatPercent(vistaPrevia.tasaBase)}</strong>\n                </div>\n                <div style={styles.detailItem}>\n                  <span>ðŸ“ˆ CAE:</span>\n                  <strong style={{color: '#ff6b6b'}}>{formatPercent(vistaPrevia.cae)}</strong>\n                </div>\n              </div>\n\n              {/* Info CAE */}\n              <div style={styles.warningBox}>\n                <strong>ðŸ’¡ Â¿QuÃ© es el CAE?</strong>\n                <p style={{margin: '8px 0 0 0', fontSize: '13px'}}>\n                  La Carga Anual Equivalente incluye todos los costos del crÃ©dito \n                  (tasa base + gastos + comisiones) y te permite comparar diferentes opciones.\n                </p>\n              </div>\n            </>\n          ) : (\n            <div style={styles.emptyState}>\n              <p>ðŸ“‹ Ajusta los valores para ver la simulaciÃ³n</p>\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* SimulaciÃ³n Guardada */}\n      {simulacion && (\n        <div style={styles.card}>\n          <h2 style={styles.cardTitle}>âœ… SimulaciÃ³n Guardada #{simulacion.id}</h2>\n          <div style={styles.savedSimInfo}>\n            <p style={{margin: 0}}>\n              Guardada el {formatDate(simulacion.fecha)}\n            </p>\n            <button\n              onClick={() => setMostrarAmortizacion(!mostrarAmortizacion)}\n              style={{...styles.button, ...styles.buttonSecondary, marginTop: '16px'}}\n            >\n              {mostrarAmortizacion ? 'ðŸ“Š Ocultar' : 'ðŸ“Š Ver'} Tabla de AmortizaciÃ³n\n            </button>\n          </div>\n\n          {/* Tabla de AmortizaciÃ³n */}\n          {mostrarAmortizacion && (\n            <div style={{marginTop: '24px', overflowX: 'auto'}}>\n              <table style={styles.table}>\n                <thead>\n                  <tr>\n                    <th style={styles.th}>Mes</th>\n                    <th style={styles.th}>Cuota</th>\n                    <th style={styles.th}>InterÃ©s</th>\n                    <th style={styles.th}>Capital</th>\n                    <th style={styles.th}>Saldo</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {generarTablaAmortizacion(simulacion).map((row) => (\n                    <tr key={row.mes} style={row.mes % 2 === 0 ? styles.trEven : {}}>\n                      <td style={styles.td}>{row.mes}</td>\n                      <td style={styles.td}>{formatCurrency(row.cuota)}</td>\n                      <td style={styles.td}>{formatCurrency(row.interes)}</td>\n                      <td style={styles.td}>{formatCurrency(row.capital)}</td>\n                      <td style={styles.td}>{formatCurrency(row.saldo)}</td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            </div>\n          )}\n        </div>\n      )}\n\n      {/* Historial */}\n      <div style={styles.card}>\n        <h2 style={styles.cardTitle}>ðŸ“š Historial de Simulaciones</h2>\n\n        {loadingHistorial ? (\n          <div style={styles.loading}>\n            <div style={styles.spinner}></div>\n            <p>Cargando historial...</p>\n          </div>\n        ) : historial.length === 0 ? (\n          <div style={styles.emptyState}>\n            <p style={{fontSize: '18px', marginBottom: '8px'}}>\n              No tienes simulaciones previas\n            </p>\n            <p style={{fontSize: '14px', color: '#6c757d'}}>\n              Guarda tu primera simulaciÃ³n usando el botÃ³n \"Guardar SimulaciÃ³n\"\n            </p>\n          </div>\n        ) : (\n          <>\n            <div style={styles.historialGrid}>\n              {historial.map((sim) => (\n                <div\n                  key={sim.id}\n                  style={styles.historialCard}\n                  onClick={() => handleSeleccionarSimulacion(sim)}\n                >\n                  <div style={styles.historialHeader}>\n                    <span style={{\n                      ...styles.historialBadge,\n                      ...(sim.resultado === 'aprobado' ? styles.badgeSuccess : styles.badgeError)\n                    }}>\n                      {sim.resultado.toUpperCase()}\n                    </span>\n                    <button\n                      onClick={(e) => {\n                        e.stopPropagation();\n                        handleEliminar(sim.id);\n                      }}\n                      style={styles.deleteButton}\n                      title=\"Eliminar\"\n                    >\n                      ðŸ—‘ï¸\n                    </button>\n                  </div>\n\n                  <div style={{ display: 'flex', justifyContent: 'flex-end', marginBottom: '8px' }}>\n                    <button\n                      onClick={(e) => { e.stopPropagation(); navigate(`/simulacion/${sim.id}`); }}\n                      style={{\n                        background: 'none',\n                        border: 'none',\n                        color: '#007bff',\n                        cursor: 'pointer',\n                        fontSize: '13px',\n                        textDecoration: 'underline'\n                      }}\n                      title=\"Ver detalle\"\n                    >\n                      Ver detalle â†’\n                    </button>\n                  </div>\n\n                  <div style={styles.historialCuota}>\n                    <div style={styles.historialCuotaValue}>\n                      {formatCurrency(sim.cuotaMensual)}\n                    </div>\n                    <div style={styles.historialCuotaLabel}>Cuota mensual</div>\n                  </div>\n\n                  <div style={styles.historialDetails}>\n                    <div style={styles.historialDetailRow}>\n                      <span>Monto:</span>\n                      <strong>{formatCurrency(sim.monto)}</strong>\n                    </div>\n                    <div style={styles.historialDetailRow}>\n                      <span>Plazo:</span>\n                      <strong>{sim.plazo} meses</strong>\n                    </div>\n                    <div style={styles.historialDetailRow}>\n                      <span>CAE:</span>\n                      <strong>{formatPercent(sim.cae)}</strong>\n                    </div>\n                  </div>\n\n                  <div style={styles.historialFooter}>\n                    {formatDate(sim.fecha)}\n                  </div>\n                </div>\n              ))}\n            </div>\n\n            {historial.length >= 4 && (\n              <div style={{textAlign: 'center', marginTop: '24px'}}>\n                <button\n                  onClick={handleVerMas}\n                  style={{...styles.button, ...styles.buttonSecondary}}\n                >\n                  {mostrarTodoHistorial ? 'Ver Menos â–²' : 'Ver MÃ¡s â–¼'}\n                </button>\n              </div>\n            )}\n          </>\n        )}\n      </div>\n    </div>\n  );\n}\n\n// ==========================================\n// ESTILOS\n// ==========================================\n\nconst styles = {\n  container: {\n    maxWidth: '1400px',\n    margin: '0 auto',\n    padding: '24px',\n    fontFamily: '-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, sans-serif',\n  },\n  header: {\n    textAlign: 'center',\n    marginBottom: '32px',\n  },\n  title: {\n    fontSize: '2.5rem',\n    color: '#2c3e50',\n    marginBottom: '8px',\n  },\n  subtitle: {\n    fontSize: '1.1rem',\n    color: '#6c757d',\n  },\n  alertError: {\n    backgroundColor: '#f8d7da',\n    color: '#721c24',\n    padding: '16px',\n    borderRadius: '8px',\n    marginBottom: '24px',\n    borderLeft: '4px solid #dc3545',\n  },\n  alertSuccess: {\n    backgroundColor: '#d4edda',\n    color: '#155724',\n    padding: '16px',\n    borderRadius: '8px',\n    marginBottom: '24px',\n    borderLeft: '4px solid #28a745',\n  },\n  mainGrid: {\n    display: 'grid',\n    gridTemplateColumns: 'repeat(auto-fit, minmax(500px, 1fr))',\n    gap: '24px',\n    marginBottom: '32px',\n  },\n  card: {\n    backgroundColor: 'white',\n    borderRadius: '12px',\n    padding: '24px',\n    boxShadow: '0 2px 8px rgba(0,0,0,0.1)',\n  },\n  cardTitle: {\n    fontSize: '1.5rem',\n    color: '#2c3e50',\n    marginTop: 0,\n    marginBottom: '20px',\n  },\n  infoBox: {\n    backgroundColor: '#e3f2fd',\n    padding: '16px',\n    borderRadius: '8px',\n    marginBottom: '24px',\n    borderLeft: '4px solid #2196f3',\n    fontSize: '14px',\n  },\n  infoList: {\n    margin: '8px 0 0 20px',\n    padding: 0,\n  },\n  formGroup: {\n    marginBottom: '24px',\n  },\n  label: {\n    display: 'block',\n    fontWeight: '600',\n    marginBottom: '8px',\n    color: '#495057',\n  },\n  input: {\n    width: '100%',\n    padding: '12px',\n    fontSize: '16px',\n    border: '2px solid #dee2e6',\n    borderRadius: '8px',\n    marginBottom: '8px',\n    boxSizing: 'border-box',\n  },\n  slider: {\n    width: '100%',\n    height: '8px',\n    borderRadius: '4px',\n    background: 'linear-gradient(to right, #667eea, #764ba2)',\n    outline: 'none',\n    marginTop: '8px',\n  },\n  rangeLabels: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    fontSize: '12px',\n    color: '#6c757d',\n    marginTop: '4px',\n  },\n  rangeValue: {\n    fontWeight: 'bold',\n    color: '#667eea',\n    fontSize: '14px',\n  },\n  buttonGroup: {\n    display: 'flex',\n    gap: '12px',\n  },\n  button: {\n    flex: 1,\n    padding: '12px 24px',\n    fontSize: '16px',\n    fontWeight: '600',\n    border: 'none',\n    borderRadius: '8px',\n    cursor: 'pointer',\n    transition: 'all 0.3s',\n  },\n  buttonPrimary: {\n    background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\n    color: 'white',\n  },\n  buttonSecondary: {\n    backgroundColor: '#f8f9fa',\n    color: '#495057',\n    border: '1px solid #dee2e6',\n  },\n  buttonDisabled: {\n    opacity: 0.6,\n    cursor: 'not-allowed',\n  },\n  badge: {\n    display: 'inline-block',\n    padding: '8px 16px',\n    borderRadius: '20px',\n    fontSize: '14px',\n    fontWeight: '600',\n    marginBottom: '20px',\n  },\n  badgeSuccess: {\n    backgroundColor: '#d4edda',\n    color: '#155724',\n  },\n  badgeError: {\n    backgroundColor: '#f8d7da',\n    color: '#721c24',\n  },\n  cuotaBox: {\n    backgroundColor: '#f0f4ff',\n    padding: '24px',\n    borderRadius: '12px',\n    textAlign: 'center',\n    marginBottom: '24px',\n  },\n  cuotaLabel: {\n    fontSize: '14px',\n    color: '#6c757d',\n    marginBottom: '8px',\n  },\n  cuotaValue: {\n    fontSize: '36px',\n    fontWeight: 'bold',\n    color: '#667eea',\n  },\n  cuotaSubtext: {\n    fontSize: '14px',\n    color: '#6c757d',\n    marginTop: '8px',\n  },\n  detailsGrid: {\n    display: 'grid',\n    gridTemplateColumns: '1fr',\n    gap: '12px',\n    marginBottom: '20px',\n  },\n  detailItem: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    padding: '12px',\n    backgroundColor: '#f8f9fa',\n    borderRadius: '6px',\n    fontSize: '14px',\n  },\n  warningBox: {\n    backgroundColor: '#fff3cd',\n    padding: '16px',\n    borderRadius: '8px',\n    borderLeft: '4px solid #ffc107',\n    fontSize: '14px',\n    color: '#856404',\n  },\n  emptyState: {\n    textAlign: 'center',\n    padding: '48px 24px',\n    color: '#6c757d',\n  },\n  savedSimInfo: {\n    backgroundColor: '#f8f9fa',\n    padding: '16px',\n    borderRadius: '8px',\n    textAlign: 'center',\n  },\n  table: {\n    width: '100%',\n    borderCollapse: 'collapse',\n    fontSize: '14px',\n  },\n  th: {\n    backgroundColor: '#f8f9fa',\n    padding: '12px',\n    textAlign: 'left',\n    fontWeight: '600',\n    borderBottom: '2px solid #dee2e6',\n  },\n  td: {\n    padding: '12px',\n    borderBottom: '1px solid #dee2e6',\n  },\n  trEven: {\n    backgroundColor: '#f8f9fa',\n  },\n  loading: {\n    textAlign: 'center',\n    padding: '48px',\n    color: '#6c757d',\n  },\n  spinner: {\n    border: '4px solid #f3f3f3',\n    borderTop: '4px solid #667eea',\n    borderRadius: '50%',\n    width: '40px',\n    height: '40px',\n    animation: 'spin 1s linear infinite',\n    margin: '0 auto 16px',\n  },\n  historialGrid: {\n    display: 'grid',\n    gridTemplateColumns: 'repeat(auto-fill, minmax(280px, 1fr))',\n    gap: '16px',\n    marginBottom: '16px',\n  },\n  historialCard: {\n    backgroundColor: 'white',\n    border: '2px solid #dee2e6',\n    borderRadius: '12px',\n    padding: '16px',\n    cursor: 'pointer',\n    transition: 'all 0.3s',\n  },\n  historialHeader: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: '12px',\n  },\n  historialBadge: {\n    fontSize: '11px',\n    padding: '4px 8px',\n    borderRadius: '12px',\n  },\n  deleteButton: {\n    background: 'none',\n    border: 'none',\n    fontSize: '18px',\n    cursor: 'pointer',\n    padding: '4px 8px',\n  },\n  historialCuota: {\n    marginBottom: '16px',\n  },\n  historialCuotaValue: {\n    fontSize: '24px',\n    fontWeight: 'bold',\n    color: '#667eea',\n  },\n  historialCuotaLabel: {\n    fontSize: '12px',\n    color: '#6c757d',\n  },\n  historialDetails: {\n    fontSize: '14px',\n    marginBottom: '12px',\n  },\n  historialDetailRow: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    marginBottom: '4px',\n  },\n  historialFooter: {\n    fontSize: '11px',\n    color: '#999',\n    paddingTop: '12px',\n    borderTop: '1px solid #eee',\n  },\n};\n\n// Agregar animaciÃ³n para el spinner\nconst styleSheet = document.createElement(\"style\");\nstyleSheet.textContent = `\n  @keyframes spin {\n    0% { transform: rotate(0deg); }\n    100% { transform: rotate(360deg); }\n  }\n  \n  .historial-card:hover {\n    transform: translateY(-4px);\n    box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);\n    border-color: #667eea;\n  }\n`;\ndocument.head.appendChild(styleSheet);\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
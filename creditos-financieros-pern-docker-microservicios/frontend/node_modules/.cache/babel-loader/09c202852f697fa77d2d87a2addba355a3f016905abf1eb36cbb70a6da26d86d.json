{"ast":null,"code":"import _objectSpread from\"/home/numpi/Documentos/Semestre 6/Anal/GRUPOPOGWARE-2025-PROYINF/creditos-financieros-pern-docker-microservicios/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React from\"react\";import{AuthContext}from\"../../auth/authContext\";import SimulacionForm from\"../components/SimulacionForm\";import SimulacionPreview from\"../components/SimulacionPreview\";import HistorialSimulaciones from\"../components/HistorialSimulaciones\";import{formatCurrency,formatPercent,formatDate,generarTablaAmortizacion}from\"../utils/simulacionUtils\";import styles from\"../styles/simulacionStyles\";import useSimulacion from\"../hooks/useSimulacion\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function SimulacionPage(){const{user}=React.useContext(AuthContext);const{monto,setMonto,plazo,setPlazo,simulacion,loading,error,success,historial,mostrarTodoHistorial,loadingHistorial,vistaPrevia,mostrarAmortizacion,setMostrarAmortizacion,handleSimular,handleLimpiar,handleEliminar,handleVerMas,handleSeleccionarSimulacion,CONFIG}=useSimulacion(user);return/*#__PURE__*/_jsxs(\"div\",{style:styles.container,children:[/*#__PURE__*/_jsxs(\"div\",{style:styles.header,children:[/*#__PURE__*/_jsx(\"h1\",{style:styles.title,children:\"\\uD83D\\uDCB0 Simulador de Cr\\xE9dito\"}),/*#__PURE__*/_jsx(\"p\",{style:styles.subtitle,children:\"Simula tu cr\\xE9dito y conoce las condiciones al instante\"})]}),error&&/*#__PURE__*/_jsxs(\"div\",{style:styles.alertError,children:[\"\\u274C \",error]}),success&&/*#__PURE__*/_jsx(\"div\",{style:styles.alertSuccess,children:success}),/*#__PURE__*/_jsxs(\"div\",{style:styles.mainGrid,children:[/*#__PURE__*/_jsx(SimulacionForm,{monto:monto,setMonto:setMonto,plazo:plazo,setPlazo:setPlazo,handleSimular:e=>{e.preventDefault();handleSimular({monto:Number(monto),plazo:Number(plazo)});},loading:loading,handleLimpiar:handleLimpiar,CONFIG:CONFIG,styles:styles,formatCurrency:formatCurrency}),/*#__PURE__*/_jsx(SimulacionPreview,{vistaPrevia:vistaPrevia,mostrarAmortizacion:mostrarAmortizacion,setMostrarAmortizacion:setMostrarAmortizacion,generarTablaAmortizacion:generarTablaAmortizacion,formatCurrency:formatCurrency,formatPercent:formatPercent,styles:styles})]}),simulacion&&/*#__PURE__*/_jsxs(\"div\",{style:_objectSpread({},styles.card),children:[/*#__PURE__*/_jsxs(\"h2\",{style:styles.cardTitle,children:[\"\\u2705 Simulaci\\xF3n Guardada #\",simulacion.id]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.savedSimInfo,children:[/*#__PURE__*/_jsxs(\"p\",{style:{margin:0,color:\"black\"},children:[\"Guardada el \",formatDate(simulacion.fecha)]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setMostrarAmortizacion(!mostrarAmortizacion),style:_objectSpread(_objectSpread(_objectSpread({},styles.button),styles.buttonSecondary),{},{marginTop:\"16px\"}),children:[mostrarAmortizacion?\"üìä Ocultar\":\"üìä Ver\",\" Tabla de Amortizaci\\xF3n\"]})]}),mostrarAmortizacion&&/*#__PURE__*/_jsx(\"div\",{style:{marginTop:\"24px\",overflowX:\"auto\",color:\"black\"},children:/*#__PURE__*/_jsxs(\"table\",{style:styles.table,children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{style:styles.th,children:\"Mes\"}),/*#__PURE__*/_jsx(\"th\",{style:styles.th,children:\"Cuota\"}),/*#__PURE__*/_jsx(\"th\",{style:styles.th,children:\"Inter\\xE9s\"}),/*#__PURE__*/_jsx(\"th\",{style:styles.th,children:\"Capital\"}),/*#__PURE__*/_jsx(\"th\",{style:styles.th,children:\"Saldo\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:generarTablaAmortizacion(simulacion).map(row=>/*#__PURE__*/_jsxs(\"tr\",{style:row.mes%2===0?styles.trEven:{},children:[/*#__PURE__*/_jsx(\"td\",{style:styles.td,children:formatCurrency(row.cuota)}),/*#__PURE__*/_jsx(\"td\",{style:styles.td,children:formatCurrency(row.cuota)}),/*#__PURE__*/_jsx(\"td\",{style:styles.td,children:formatCurrency(row.interes)}),/*#__PURE__*/_jsx(\"td\",{style:styles.td,children:formatCurrency(row.capital)}),/*#__PURE__*/_jsx(\"td\",{style:styles.td,children:formatCurrency(row.saldo)})]},row.mes))})]})})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.card,children:[/*#__PURE__*/_jsx(\"h2\",{style:styles.cardTitle,children:\"\\uD83D\\uDCDA Historial de Simulaciones\"}),/*#__PURE__*/_jsx(HistorialSimulaciones,{historial:historial,loadingHistorial:loadingHistorial,handleEliminar:handleEliminar,handleSeleccionarSimulacion:handleSeleccionarSimulacion,mostrarTodoHistorial:mostrarTodoHistorial,handleVerMas:handleVerMas,styles:styles,formatCurrency:formatCurrency,formatPercent:formatPercent,formatDate:formatDate})]})]});}","map":{"version":3,"names":["React","AuthContext","SimulacionForm","SimulacionPreview","HistorialSimulaciones","formatCurrency","formatPercent","formatDate","generarTablaAmortizacion","styles","useSimulacion","jsx","_jsx","jsxs","_jsxs","SimulacionPage","user","useContext","monto","setMonto","plazo","setPlazo","simulacion","loading","error","success","historial","mostrarTodoHistorial","loadingHistorial","vistaPrevia","mostrarAmortizacion","setMostrarAmortizacion","handleSimular","handleLimpiar","handleEliminar","handleVerMas","handleSeleccionarSimulacion","CONFIG","style","container","children","header","title","subtitle","alertError","alertSuccess","mainGrid","e","preventDefault","Number","_objectSpread","card","cardTitle","id","savedSimInfo","margin","color","fecha","onClick","button","buttonSecondary","marginTop","overflowX","table","th","map","row","mes","trEven","td","cuota","interes","capital","saldo"],"sources":["/home/numpi/Documentos/Semestre 6/Anal/GRUPOPOGWARE-2025-PROYINF/creditos-financieros-pern-docker-microservicios/frontend/src/features/simulacion/pages/SimulacionPage.js"],"sourcesContent":["import React from \"react\";\nimport { AuthContext } from \"../../auth/authContext\";\nimport SimulacionForm from \"../components/SimulacionForm\";\nimport SimulacionPreview from \"../components/SimulacionPreview\";\nimport HistorialSimulaciones from \"../components/HistorialSimulaciones\";\nimport { formatCurrency, formatPercent, formatDate, generarTablaAmortizacion } from \"../utils/simulacionUtils\";\nimport styles from \"../styles/simulacionStyles\";\nimport useSimulacion from \"../hooks/useSimulacion\";\n\nexport default function SimulacionPage() {\n  const { user } = React.useContext(AuthContext);\n\n  const {\n    monto,\n    setMonto,\n    plazo,\n    setPlazo,\n    simulacion,\n    loading,\n    error,\n    success,\n    historial,\n    mostrarTodoHistorial,\n    loadingHistorial,\n    vistaPrevia,\n    mostrarAmortizacion,\n    setMostrarAmortizacion,\n    handleSimular,\n    handleLimpiar,\n    handleEliminar,\n    handleVerMas,\n    handleSeleccionarSimulacion,\n    CONFIG,\n  } = useSimulacion(user);\n\n  return (\n    <div style={styles.container}>\n      <div style={styles.header}>\n        <h1 style={styles.title}>üí∞ Simulador de Cr√©dito</h1>\n        <p style={styles.subtitle}>Simula tu cr√©dito y conoce las condiciones al instante</p>\n      </div>\n\n      {error && <div style={styles.alertError}>‚ùå {error}</div>}\n      {success && <div style={styles.alertSuccess}>{success}</div>}\n\n      <div style={styles.mainGrid}>\n        <SimulacionForm\n          monto={monto}\n          setMonto={setMonto}\n          plazo={plazo}\n          setPlazo={setPlazo}\n          handleSimular={(e) => {\n            e.preventDefault();\n            handleSimular({ monto: Number(monto), plazo: Number(plazo) });\n          }}\n          loading={loading}\n          handleLimpiar={handleLimpiar}\n          CONFIG={CONFIG}\n          styles={styles}\n          formatCurrency={formatCurrency}\n        />\n\n        <SimulacionPreview\n          vistaPrevia={vistaPrevia}\n          mostrarAmortizacion={mostrarAmortizacion}\n          setMostrarAmortizacion={setMostrarAmortizacion}\n          generarTablaAmortizacion={generarTablaAmortizacion}\n          formatCurrency={formatCurrency}\n          formatPercent={formatPercent}\n          styles={styles}\n        />\n      </div>\n\n      {simulacion && (\n        <div style={{ ...styles.card }}>\n          <h2 style={styles.cardTitle}>‚úÖ Simulaci√≥n Guardada #{simulacion.id}</h2>\n          <div style={styles.savedSimInfo}>\n            <p style={{ margin: 0, color: \"black\" }}>Guardada el {formatDate(simulacion.fecha)}</p>\n            <button onClick={() => setMostrarAmortizacion(!mostrarAmortizacion)} style={{ ...styles.button, ...styles.buttonSecondary, marginTop: \"16px\" }}>\n              {mostrarAmortizacion ? \"üìä Ocultar\" : \"üìä Ver\"} Tabla de Amortizaci√≥n\n            </button>\n          </div>\n\n          {mostrarAmortizacion && (\n            <div style={{ marginTop: \"24px\", overflowX: \"auto\", color: \"black\" }}>\n              <table style={styles.table}>\n                <thead>\n                  <tr>\n                    <th style={styles.th}>Mes</th>\n                    <th style={styles.th}>Cuota</th>\n                    <th style={styles.th}>Inter√©s</th>\n                    <th style={styles.th}>Capital</th>\n                    <th style={styles.th}>Saldo</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {generarTablaAmortizacion(simulacion).map((row) => (\n                    <tr key={row.mes} style={row.mes % 2 === 0 ? styles.trEven : {}}>\n                      <td style={styles.td}>{formatCurrency(row.cuota)}</td>\n                      <td style={styles.td}>{formatCurrency(row.cuota)}</td>\n                      <td style={styles.td}>{formatCurrency(row.interes)}</td>\n                      <td style={styles.td}>{formatCurrency(row.capital)}</td>\n                      <td style={styles.td}>{formatCurrency(row.saldo)}</td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            </div>\n          )}\n        </div>\n      )}\n\n      <div style={styles.card}>\n        <h2 style={styles.cardTitle}>üìö Historial de Simulaciones</h2>\n        <HistorialSimulaciones\n          historial={historial}\n          loadingHistorial={loadingHistorial}\n          handleEliminar={handleEliminar}\n          handleSeleccionarSimulacion={handleSeleccionarSimulacion}\n          mostrarTodoHistorial={mostrarTodoHistorial}\n          handleVerMas={handleVerMas}\n          styles={styles}\n          formatCurrency={formatCurrency}\n          formatPercent={formatPercent}\n          formatDate={formatDate}\n        />\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
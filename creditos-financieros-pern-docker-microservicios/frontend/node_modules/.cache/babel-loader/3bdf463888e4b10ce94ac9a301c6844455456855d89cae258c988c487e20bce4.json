{"ast":null,"code":"import _objectSpread from\"/home/numpi/Documentos/Semestre 6/Anal/GRUPOPOGWARE-2025-PROYINF/creditos-financieros-pern-docker-microservicios/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";// src/pages/Register.js\nimport React,{useState}from\"react\";import{Container,TextField,Button,Typography,Box,Alert,Paper,Stack,Avatar}from\"@mui/material\";import{useNavigate}from\"react-router-dom\";import{register as registerApi}from\"../services/authApi\";import PersonAddAltIcon from\"@mui/icons-material/PersonAddAlt\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Register(){const[form,setForm]=useState({username:\"\",email:\"\",password:\"\"});const[message,setMessage]=useState(null);const navigate=useNavigate();const handleChange=e=>setForm(_objectSpread(_objectSpread({},form),{},{[e.target.name]:e.target.value}));const handleSubmit=async e=>{e.preventDefault();setMessage(null);if(!form.username||!form.email||!form.password){setMessage({type:\"error\",text:\"Completa usuario, email y contraseña\"});return;}const emailRegex=/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;if(!emailRegex.test(form.email)){setMessage({type:\"error\",text:\"Email inválido\"});return;}if(form.password.length<6){setMessage({type:\"error\",text:\"La contraseña debe tener al menos 6 caracteres\"});return;}try{// Llamada al backend para registrar\nawait registerApi({username:form.username,email:form.email,password:form.password});navigate(\"/register/success\",{replace:true,state:{username:form.username,email:form.email}});}catch(err){var _err$response,_err$response$data;const msg=(err===null||err===void 0?void 0:(_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.error)||(err===null||err===void 0?void 0:err.message)||\"Error al registrarse\";setMessage({type:\"error\",text:msg});}};return/*#__PURE__*/_jsx(Container,{maxWidth:\"xs\",sx:{minHeight:\"100vh\",display:\"flex\",alignItems:\"center\",justifyContent:\"center\"},children:/*#__PURE__*/_jsxs(Paper,{elevation:6,sx:{p:4,width:\"100%\",borderRadius:3,textAlign:\"center\"},children:[/*#__PURE__*/_jsxs(Stack,{alignItems:\"center\",spacing:1,children:[/*#__PURE__*/_jsx(Avatar,{sx:{bgcolor:\"primary.main\",width:56,height:56},children:/*#__PURE__*/_jsx(PersonAddAltIcon,{fontSize:\"large\"})}),/*#__PURE__*/_jsx(Typography,{variant:\"h5\",fontWeight:600,children:\"Crear cuenta\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",children:\"Usuarios del negocio Pogware\"})]}),/*#__PURE__*/_jsxs(Box,{component:\"form\",onSubmit:handleSubmit,sx:{mt:3},children:[/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Nombre de usuario\",name:\"username\",margin:\"normal\",value:form.username,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Email\",name:\"email\",type:\"email\",margin:\"normal\",value:form.email,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Contrase\\xF1a\",name:\"password\",type:\"password\",margin:\"normal\",value:form.password,onChange:handleChange,required:true,helperText:\"M\\xEDnimo 6 caracteres\"}),/*#__PURE__*/_jsx(Button,{type:\"submit\",fullWidth:true,variant:\"contained\",size:\"large\",sx:{mt:3,borderRadius:2},children:\"Registrarse\"}),/*#__PURE__*/_jsx(Button,{fullWidth:true,variant:\"text\",sx:{mt:2},onClick:()=>navigate(\"/login\"),children:\"\\xBFYa tienes cuenta? Inicia sesi\\xF3n\"})]}),message&&/*#__PURE__*/_jsx(Alert,{sx:{mt:3},severity:message.type,children:message.text})]})});}","map":{"version":3,"names":["React","useState","Container","TextField","Button","Typography","Box","Alert","Paper","Stack","Avatar","useNavigate","register","registerApi","PersonAddAltIcon","jsx","_jsx","jsxs","_jsxs","Register","form","setForm","username","email","password","message","setMessage","navigate","handleChange","e","_objectSpread","target","name","value","handleSubmit","preventDefault","type","text","emailRegex","test","length","replace","state","err","_err$response","_err$response$data","msg","response","data","error","maxWidth","sx","minHeight","display","alignItems","justifyContent","children","elevation","p","width","borderRadius","textAlign","spacing","bgcolor","height","fontSize","variant","fontWeight","color","component","onSubmit","mt","fullWidth","label","margin","onChange","required","helperText","size","onClick","severity"],"sources":["/home/numpi/Documentos/Semestre 6/Anal/GRUPOPOGWARE-2025-PROYINF/creditos-financieros-pern-docker-microservicios/frontend/src/features/auth/pages/Register.js"],"sourcesContent":["// src/pages/Register.js\nimport React, { useState } from \"react\";\nimport {\n  Container,\n  TextField,\n  Button,\n  Typography,\n  Box,\n  Alert,\n  Paper,\n  Stack,\n  Avatar,\n} from \"@mui/material\";\nimport { useNavigate } from \"react-router-dom\";\nimport { register as registerApi } from \"../services/authApi\";\nimport PersonAddAltIcon from \"@mui/icons-material/PersonAddAlt\";\n\nexport default function Register() {\n  const [form, setForm] = useState({ username: \"\", email: \"\", password: \"\" });\n  const [message, setMessage] = useState(null);\n  const navigate = useNavigate();\n\n  const handleChange = (e) =>\n    setForm({ ...form, [e.target.name]: e.target.value });\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setMessage(null);\n\n    if (!form.username || !form.email || !form.password) {\n      setMessage({\n        type: \"error\",\n        text: \"Completa usuario, email y contraseña\",\n      });\n      return;\n    }\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n    if (!emailRegex.test(form.email)) {\n      setMessage({ type: \"error\", text: \"Email inválido\" });\n      return;\n    }\n    if (form.password.length < 6) {\n      setMessage({\n        type: \"error\",\n        text: \"La contraseña debe tener al menos 6 caracteres\",\n      });\n      return;\n    }\n\n    try {\n      // Llamada al backend para registrar\n      await registerApi({ username: form.username, email: form.email, password: form.password });\n      navigate(\"/register/success\", {\n        replace: true,\n        state: { username: form.username, email: form.email },\n      });\n    } catch (err) {\n      const msg = err?.response?.data?.error || err?.message || \"Error al registrarse\";\n      setMessage({ type: \"error\", text: msg });\n    }\n  };\n\n  return (\n    <Container\n      maxWidth=\"xs\"\n      sx={{\n        minHeight: \"100vh\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n      }}\n    >\n      <Paper\n        elevation={6}\n        sx={{\n          p: 4,\n          width: \"100%\",\n          borderRadius: 3,\n          textAlign: \"center\",\n        }}\n      >\n        <Stack alignItems=\"center\" spacing={1}>\n          <Avatar sx={{ bgcolor: \"primary.main\", width: 56, height: 56 }}>\n            <PersonAddAltIcon fontSize=\"large\" />\n          </Avatar>\n          <Typography variant=\"h5\" fontWeight={600}>\n            Crear cuenta\n          </Typography>\n          <Typography variant=\"body2\" color=\"text.secondary\">\n            Usuarios del negocio Pogware\n          </Typography>\n        </Stack>\n\n        <Box component=\"form\" onSubmit={handleSubmit} sx={{ mt: 3 }}>\n          <TextField\n            fullWidth\n            label=\"Nombre de usuario\"\n            name=\"username\"\n            margin=\"normal\"\n            value={form.username}\n            onChange={handleChange}\n            required\n          />\n          <TextField\n            fullWidth\n            label=\"Email\"\n            name=\"email\"\n            type=\"email\"\n            margin=\"normal\"\n            value={form.email}\n            onChange={handleChange}\n            required\n          />\n          <TextField\n            fullWidth\n            label=\"Contraseña\"\n            name=\"password\"\n            type=\"password\"\n            margin=\"normal\"\n            value={form.password}\n            onChange={handleChange}\n            required\n            helperText=\"Mínimo 6 caracteres\"\n          />\n          <Button\n            type=\"submit\"\n            fullWidth\n            variant=\"contained\"\n            size=\"large\"\n            sx={{ mt: 3, borderRadius: 2 }}\n          >\n            Registrarse\n          </Button>\n\n          <Button\n            fullWidth\n            variant=\"text\"\n            sx={{ mt: 2 }}\n            onClick={() => navigate(\"/login\")}\n          >\n            ¿Ya tienes cuenta? Inicia sesión\n          </Button>\n        </Box>\n\n        {message && (\n          <Alert sx={{ mt: 3 }} severity={message.type}>\n            {message.text}\n          </Alert>\n        )}\n      </Paper>\n    </Container>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
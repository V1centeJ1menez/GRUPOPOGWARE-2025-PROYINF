{"ast":null,"code":"// utilidades para la simulación: formatos y generación de tabla de amortización\nexport const formatCurrency=value=>{const n=Number(value);if(!Number.isFinite(n))return\"—\";return new Intl.NumberFormat(\"es-CL\",{style:\"currency\",currency:\"CLP\",minimumFractionDigits:0}).format(Math.round(n));};export const formatPercent=value=>{const n=Number(value);if(!Number.isFinite(n))return\"—\";return\"\".concat((n*100).toFixed(2),\"%\");};export const formatDate=dateString=>{return new Date(dateString).toLocaleDateString(\"es-CL\",{year:\"numeric\",month:\"long\",day:\"numeric\",hour:\"2-digit\",minute:\"2-digit\"});};export const generarTablaAmortizacion=sim=>{if(!sim)return[];const tabla=[];let saldo=Number(sim.monto);const i=Number(sim.tasaBase)/12;const cuota=Math.round(Number(sim.cuotaMensual));for(let mes=1;mes<=Number(sim.plazo);mes++){let interes=Math.round(saldo*i);let capital=cuota-interes;if(mes===Number(sim.plazo)){capital=saldo;interes=Math.max(0,cuota-capital);}saldo=Math.max(0,Math.round(saldo-capital));tabla.push({mes,cuota,interes,capital,saldo});}return tabla;};","map":{"version":3,"names":["formatCurrency","value","n","Number","isFinite","Intl","NumberFormat","style","currency","minimumFractionDigits","format","Math","round","formatPercent","concat","toFixed","formatDate","dateString","Date","toLocaleDateString","year","month","day","hour","minute","generarTablaAmortizacion","sim","tabla","saldo","monto","i","tasaBase","cuota","cuotaMensual","mes","plazo","interes","capital","max","push"],"sources":["/home/numpi/Documentos/Semestre 6/Anal/GRUPOPOGWARE-2025-PROYINF/creditos-financieros-pern-docker-microservicios/frontend/src/features/simulacion/utils/simulacionUtils.js"],"sourcesContent":["// utilidades para la simulación: formatos y generación de tabla de amortización\nexport const formatCurrency = (value) => {\n  const n = Number(value);\n  if (!Number.isFinite(n)) return \"—\";\n  return new Intl.NumberFormat(\"es-CL\", {\n    style: \"currency\",\n    currency: \"CLP\",\n    minimumFractionDigits: 0,\n  }).format(Math.round(n));\n};\n\nexport const formatPercent = (value) => {\n  const n = Number(value);\n  if (!Number.isFinite(n)) return \"—\";\n  return `${(n * 100).toFixed(2)}%`;\n};\n\nexport const formatDate = (dateString) => {\n  return new Date(dateString).toLocaleDateString(\"es-CL\", {\n    year: \"numeric\",\n    month: \"long\",\n    day: \"numeric\",\n    hour: \"2-digit\",\n    minute: \"2-digit\",\n  });\n};\n\nexport const generarTablaAmortizacion = (sim) => {\n  if (!sim) return [];\n  const tabla = [];\n  let saldo = Number(sim.monto);\n  const i = Number(sim.tasaBase) / 12;\n  const cuota = Math.round(Number(sim.cuotaMensual));\n\n  for (let mes = 1; mes <= Number(sim.plazo); mes++) {\n    let interes = Math.round(saldo * i);\n    let capital = cuota - interes;\n    if (mes === Number(sim.plazo)) {\n      capital = saldo;\n      interes = Math.max(0, cuota - capital);\n    }\n    saldo = Math.max(0, Math.round(saldo - capital));\n\n    tabla.push({ mes, cuota, interes, capital, saldo });\n  }\n\n  return tabla;\n};\n"],"mappings":"AAAA;AACA,MAAO,MAAM,CAAAA,cAAc,CAAIC,KAAK,EAAK,CACvC,KAAM,CAAAC,CAAC,CAAGC,MAAM,CAACF,KAAK,CAAC,CACvB,GAAI,CAACE,MAAM,CAACC,QAAQ,CAACF,CAAC,CAAC,CAAE,MAAO,GAAG,CACnC,MAAO,IAAI,CAAAG,IAAI,CAACC,YAAY,CAAC,OAAO,CAAE,CACpCC,KAAK,CAAE,UAAU,CACjBC,QAAQ,CAAE,KAAK,CACfC,qBAAqB,CAAE,CACzB,CAAC,CAAC,CAACC,MAAM,CAACC,IAAI,CAACC,KAAK,CAACV,CAAC,CAAC,CAAC,CAC1B,CAAC,CAED,MAAO,MAAM,CAAAW,aAAa,CAAIZ,KAAK,EAAK,CACtC,KAAM,CAAAC,CAAC,CAAGC,MAAM,CAACF,KAAK,CAAC,CACvB,GAAI,CAACE,MAAM,CAACC,QAAQ,CAACF,CAAC,CAAC,CAAE,MAAO,GAAG,CACnC,SAAAY,MAAA,CAAU,CAACZ,CAAC,CAAG,GAAG,EAAEa,OAAO,CAAC,CAAC,CAAC,MAChC,CAAC,CAED,MAAO,MAAM,CAAAC,UAAU,CAAIC,UAAU,EAAK,CACxC,MAAO,IAAI,CAAAC,IAAI,CAACD,UAAU,CAAC,CAACE,kBAAkB,CAAC,OAAO,CAAE,CACtDC,IAAI,CAAE,SAAS,CACfC,KAAK,CAAE,MAAM,CACbC,GAAG,CAAE,SAAS,CACdC,IAAI,CAAE,SAAS,CACfC,MAAM,CAAE,SACV,CAAC,CAAC,CACJ,CAAC,CAED,MAAO,MAAM,CAAAC,wBAAwB,CAAIC,GAAG,EAAK,CAC/C,GAAI,CAACA,GAAG,CAAE,MAAO,EAAE,CACnB,KAAM,CAAAC,KAAK,CAAG,EAAE,CAChB,GAAI,CAAAC,KAAK,CAAGzB,MAAM,CAACuB,GAAG,CAACG,KAAK,CAAC,CAC7B,KAAM,CAAAC,CAAC,CAAG3B,MAAM,CAACuB,GAAG,CAACK,QAAQ,CAAC,CAAG,EAAE,CACnC,KAAM,CAAAC,KAAK,CAAGrB,IAAI,CAACC,KAAK,CAACT,MAAM,CAACuB,GAAG,CAACO,YAAY,CAAC,CAAC,CAElD,IAAK,GAAI,CAAAC,GAAG,CAAG,CAAC,CAAEA,GAAG,EAAI/B,MAAM,CAACuB,GAAG,CAACS,KAAK,CAAC,CAAED,GAAG,EAAE,CAAE,CACjD,GAAI,CAAAE,OAAO,CAAGzB,IAAI,CAACC,KAAK,CAACgB,KAAK,CAAGE,CAAC,CAAC,CACnC,GAAI,CAAAO,OAAO,CAAGL,KAAK,CAAGI,OAAO,CAC7B,GAAIF,GAAG,GAAK/B,MAAM,CAACuB,GAAG,CAACS,KAAK,CAAC,CAAE,CAC7BE,OAAO,CAAGT,KAAK,CACfQ,OAAO,CAAGzB,IAAI,CAAC2B,GAAG,CAAC,CAAC,CAAEN,KAAK,CAAGK,OAAO,CAAC,CACxC,CACAT,KAAK,CAAGjB,IAAI,CAAC2B,GAAG,CAAC,CAAC,CAAE3B,IAAI,CAACC,KAAK,CAACgB,KAAK,CAAGS,OAAO,CAAC,CAAC,CAEhDV,KAAK,CAACY,IAAI,CAAC,CAAEL,GAAG,CAAEF,KAAK,CAAEI,OAAO,CAAEC,OAAO,CAAET,KAAM,CAAC,CAAC,CACrD,CAEA,MAAO,CAAAD,KAAK,CACd,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
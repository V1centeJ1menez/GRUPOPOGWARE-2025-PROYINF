{"ast":null,"code":"var _s = $RefreshSig$();\n/**\n * Hook Personalizado: useSimulacion\n * \n * Encapsula toda la lógica de estado y efectos relacionados con simulaciones.\n * Separa la lógica del componente de presentación.\n */\n\nimport { useState, useEffect, useCallback, useContext } from 'react';\nimport { AuthContext } from '../context/AuthContext';\nimport { crearSimulacion, obtenerHistorial, eliminarSimulacion, obtenerConfiguracion } from '../api/simulacion';\nimport { calcularSimulacion, generarTablaAmortizacion } from '../utils/financialCalculations';\nexport const useSimulacion = () => {\n  _s();\n  const {\n    user\n  } = useContext(AuthContext);\n\n  // ==========================================\n  // ESTADO DE CONFIGURACIÓN\n  // ==========================================\n  const [config, setConfig] = useState(null);\n  const [loadingConfig, setLoadingConfig] = useState(true);\n\n  // ==========================================\n  // ESTADO DEL FORMULARIO\n  // ==========================================\n  const [monto, setMonto] = useState(5000000);\n  const [plazo, setPlazo] = useState(24);\n\n  // ==========================================\n  // ESTADO DE LA SIMULACIÓN GUARDADA\n  // ==========================================\n  const [simulacion, setSimulacion] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [success, setSuccess] = useState(null);\n\n  // ==========================================\n  // ESTADO DEL HISTORIAL\n  // ==========================================\n  const [historial, setHistorial] = useState([]);\n  const [mostrarTodoHistorial, setMostrarTodoHistorial] = useState(false);\n  const [loadingHistorial, setLoadingHistorial] = useState(false);\n\n  // ==========================================\n  // ESTADO DE VISTA PREVIA\n  // ==========================================\n  const [vistaPrevia, setVistaPrevia] = useState(null);\n  const [mostrarAmortizacion, setMostrarAmortizacion] = useState(false);\n  const [tablaAmortizacion, setTablaAmortizacion] = useState([]);\n\n  // ==========================================\n  // EFECTO: CARGAR CONFIGURACIÓN AL MONTAR\n  // ==========================================\n  useEffect(() => {\n    const cargarConfiguracion = async () => {\n      try {\n        const response = await obtenerConfiguracion();\n        setConfig(response.data);\n      } catch (err) {\n        console.error('Error al cargar configuración:', err);\n        // Fallback a valores por defecto\n        setConfig({\n          tasaBaseAnual: 0.18,\n          gastosOperacionalesPorcentaje: 0.02,\n          comisionApertura: 0.015,\n          montoMinimo: 500000,\n          montoMaximo: 10000000,\n          plazoMinimo: 6,\n          plazoMaximo: 48,\n          seguroDesgravamenMensual: 0.0012\n        });\n      } finally {\n        setLoadingConfig(false);\n      }\n    };\n    cargarConfiguracion();\n  }, []);\n\n  // ==========================================\n  // EFECTO: CARGAR HISTORIAL AL MONTAR\n  // ==========================================\n  useEffect(() => {\n    if (user && config) {\n      cargarHistorial(4);\n    }\n  }, [user, config]);\n\n  // ==========================================\n  // EFECTO: CALCULAR VISTA PREVIA\n  // ==========================================\n  useEffect(() => {\n    if (!config) return;\n    const preview = calcularSimulacion(monto, plazo, config);\n    setVistaPrevia(preview);\n\n    // Generar tabla de amortización si hay vista previa válida\n    if (preview && preview.cuotaMensual) {\n      const tasaMensual = config.tasaBaseAnual / 12;\n      const tabla = generarTablaAmortizacion(preview.monto, preview.cuotaMensual, tasaMensual, preview.plazo);\n      setTablaAmortizacion(tabla);\n    } else {\n      setTablaAmortizacion([]);\n    }\n  }, [monto, plazo, config]);\n\n  // ==========================================\n  // FUNCIÓN: CARGAR HISTORIAL\n  // ==========================================\n  const cargarHistorial = async (limit = null) => {\n    if (!user) return;\n    setLoadingHistorial(true);\n    try {\n      const response = await obtenerHistorial(user.token, limit);\n      setHistorial(response.data || []);\n    } catch (err) {\n      console.error('Error al cargar historial:', err);\n      setHistorial([]);\n    } finally {\n      setLoadingHistorial(false);\n    }\n  };\n\n  // ==========================================\n  // HANDLER: SIMULAR Y GUARDAR\n  // ==========================================\n  const handleSimular = async e => {\n    e === null || e === void 0 ? void 0 : e.preventDefault();\n    setError(null);\n    setSuccess(null);\n    setSimulacion(null);\n\n    // Validaciones básicas\n    if (!monto || !plazo) {\n      setError('Por favor, completa todos los campos');\n      return;\n    }\n    if (!config) {\n      setError('Configuración no disponible, intenta de nuevo');\n      return;\n    }\n\n    // Validación de rangos\n    if (Number(monto) < config.montoMinimo || Number(monto) > config.montoMaximo) {\n      setError(`El monto debe estar entre $${config.montoMinimo.toLocaleString()} y $${config.montoMaximo.toLocaleString()}`);\n      return;\n    }\n    if (Number(plazo) < config.plazoMinimo || Number(plazo) > config.plazoMaximo) {\n      setError(`El plazo debe estar entre ${config.plazoMinimo} y ${config.plazoMaximo} meses`);\n      return;\n    }\n    setLoading(true);\n    try {\n      const response = await crearSimulacion({\n        monto: Number(monto),\n        plazo: Number(plazo)\n      }, user.token);\n      setSimulacion(response.data);\n      setSuccess('✅ Simulación guardada exitosamente en tu historial');\n\n      // Recargar historial\n      cargarHistorial(mostrarTodoHistorial ? null : 4);\n\n      // Limpiar mensaje de éxito después de 5 segundos\n      setTimeout(() => setSuccess(null), 5000);\n    } catch (err) {\n      var _err$response, _err$response$data;\n      console.error('Error al simular:', err);\n      setError(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.error) || 'Error al procesar la simulación');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // ==========================================\n  // HANDLER: ELIMINAR SIMULACIÓN\n  // ==========================================\n  const handleEliminar = async id => {\n    if (!window.confirm('¿Estás seguro de eliminar esta simulación?')) {\n      return;\n    }\n    try {\n      await eliminarSimulacion(id, user.token);\n      setHistorial(historial.filter(sim => sim.id !== id));\n      if (simulacion && simulacion.id === id) {\n        setSimulacion(null);\n      }\n    } catch (err) {\n      console.error('Error al eliminar:', err);\n      setError('Error al eliminar la simulación');\n    }\n  };\n\n  // ==========================================\n  // HANDLER: VER MÁS/MENOS HISTORIAL\n  // ==========================================\n  const handleVerMas = () => {\n    const nuevoEstado = !mostrarTodoHistorial;\n    setMostrarTodoHistorial(nuevoEstado);\n    cargarHistorial(nuevoEstado ? null : 4);\n  };\n\n  // ==========================================\n  // HANDLER: TOGGLE TABLA AMORTIZACIÓN\n  // ==========================================\n  const toggleAmortizacion = useCallback(() => {\n    setMostrarAmortizacion(prev => !prev);\n  }, []);\n\n  // ==========================================\n  // RETURN: API PÚBLICA DEL HOOK\n  // ==========================================\n  return {\n    // Estado de configuración\n    config,\n    loadingConfig,\n    // Estado del formulario\n    monto,\n    setMonto,\n    plazo,\n    setPlazo,\n    // Estado de simulación guardada\n    simulacion,\n    loading,\n    error,\n    success,\n    // Estado del historial\n    historial,\n    mostrarTodoHistorial,\n    loadingHistorial,\n    // Estado de vista previa\n    vistaPrevia,\n    mostrarAmortizacion,\n    tablaAmortizacion,\n    // Handlers\n    handleSimular,\n    handleEliminar,\n    handleVerMas,\n    toggleAmortizacion,\n    cargarHistorial\n  };\n};\n_s(useSimulacion, \"Jks8RGA1ejEqI0JQL7vwmye3bkM=\");","map":{"version":3,"names":["useState","useEffect","useCallback","useContext","AuthContext","crearSimulacion","obtenerHistorial","eliminarSimulacion","obtenerConfiguracion","calcularSimulacion","generarTablaAmortizacion","useSimulacion","_s","user","config","setConfig","loadingConfig","setLoadingConfig","monto","setMonto","plazo","setPlazo","simulacion","setSimulacion","loading","setLoading","error","setError","success","setSuccess","historial","setHistorial","mostrarTodoHistorial","setMostrarTodoHistorial","loadingHistorial","setLoadingHistorial","vistaPrevia","setVistaPrevia","mostrarAmortizacion","setMostrarAmortizacion","tablaAmortizacion","setTablaAmortizacion","cargarConfiguracion","response","data","err","console","tasaBaseAnual","gastosOperacionalesPorcentaje","comisionApertura","montoMinimo","montoMaximo","plazoMinimo","plazoMaximo","seguroDesgravamenMensual","cargarHistorial","preview","cuotaMensual","tasaMensual","tabla","limit","token","handleSimular","e","preventDefault","Number","toLocaleString","setTimeout","_err$response","_err$response$data","handleEliminar","id","window","confirm","filter","sim","handleVerMas","nuevoEstado","toggleAmortizacion","prev"],"sources":["/home/numpi/Documentos/Semestre 6/Anal/a/creditos-financieros-pern-docker-microservicios/frontend/src/hooks/useSimulacion.js"],"sourcesContent":["/**\n * Hook Personalizado: useSimulacion\n * \n * Encapsula toda la lógica de estado y efectos relacionados con simulaciones.\n * Separa la lógica del componente de presentación.\n */\n\nimport { useState, useEffect, useCallback, useContext } from 'react';\nimport { AuthContext } from '../context/AuthContext';\nimport { \n  crearSimulacion, \n  obtenerHistorial, \n  eliminarSimulacion,\n  obtenerConfiguracion \n} from '../api/simulacion';\nimport { \n  calcularSimulacion, \n  generarTablaAmortizacion \n} from '../utils/financialCalculations';\n\nexport const useSimulacion = () => {\n  const { user } = useContext(AuthContext);\n\n  // ==========================================\n  // ESTADO DE CONFIGURACIÓN\n  // ==========================================\n  const [config, setConfig] = useState(null);\n  const [loadingConfig, setLoadingConfig] = useState(true);\n\n  // ==========================================\n  // ESTADO DEL FORMULARIO\n  // ==========================================\n  const [monto, setMonto] = useState(5000000);\n  const [plazo, setPlazo] = useState(24);\n\n  // ==========================================\n  // ESTADO DE LA SIMULACIÓN GUARDADA\n  // ==========================================\n  const [simulacion, setSimulacion] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [success, setSuccess] = useState(null);\n\n  // ==========================================\n  // ESTADO DEL HISTORIAL\n  // ==========================================\n  const [historial, setHistorial] = useState([]);\n  const [mostrarTodoHistorial, setMostrarTodoHistorial] = useState(false);\n  const [loadingHistorial, setLoadingHistorial] = useState(false);\n\n  // ==========================================\n  // ESTADO DE VISTA PREVIA\n  // ==========================================\n  const [vistaPrevia, setVistaPrevia] = useState(null);\n  const [mostrarAmortizacion, setMostrarAmortizacion] = useState(false);\n  const [tablaAmortizacion, setTablaAmortizacion] = useState([]);\n\n  // ==========================================\n  // EFECTO: CARGAR CONFIGURACIÓN AL MONTAR\n  // ==========================================\n  useEffect(() => {\n    const cargarConfiguracion = async () => {\n      try {\n        const response = await obtenerConfiguracion();\n        setConfig(response.data);\n      } catch (err) {\n        console.error('Error al cargar configuración:', err);\n        // Fallback a valores por defecto\n        setConfig({\n          tasaBaseAnual: 0.18,\n          gastosOperacionalesPorcentaje: 0.02,\n          comisionApertura: 0.015,\n          montoMinimo: 500000,\n          montoMaximo: 10000000,\n          plazoMinimo: 6,\n          plazoMaximo: 48,\n          seguroDesgravamenMensual: 0.0012,\n        });\n      } finally {\n        setLoadingConfig(false);\n      }\n    };\n\n    cargarConfiguracion();\n  }, []);\n\n  // ==========================================\n  // EFECTO: CARGAR HISTORIAL AL MONTAR\n  // ==========================================\n  useEffect(() => {\n    if (user && config) {\n      cargarHistorial(4);\n    }\n  }, [user, config]);\n\n  // ==========================================\n  // EFECTO: CALCULAR VISTA PREVIA\n  // ==========================================\n  useEffect(() => {\n    if (!config) return;\n\n    const preview = calcularSimulacion(monto, plazo, config);\n    setVistaPrevia(preview);\n\n    // Generar tabla de amortización si hay vista previa válida\n    if (preview && preview.cuotaMensual) {\n      const tasaMensual = config.tasaBaseAnual / 12;\n      const tabla = generarTablaAmortizacion(\n        preview.monto,\n        preview.cuotaMensual,\n        tasaMensual,\n        preview.plazo\n      );\n      setTablaAmortizacion(tabla);\n    } else {\n      setTablaAmortizacion([]);\n    }\n  }, [monto, plazo, config]);\n\n  // ==========================================\n  // FUNCIÓN: CARGAR HISTORIAL\n  // ==========================================\n  const cargarHistorial = async (limit = null) => {\n    if (!user) return;\n\n    setLoadingHistorial(true);\n    try {\n      const response = await obtenerHistorial(user.token, limit);\n      setHistorial(response.data || []);\n    } catch (err) {\n      console.error('Error al cargar historial:', err);\n      setHistorial([]);\n    } finally {\n      setLoadingHistorial(false);\n    }\n  };\n\n  // ==========================================\n  // HANDLER: SIMULAR Y GUARDAR\n  // ==========================================\n  const handleSimular = async (e) => {\n    e?.preventDefault();\n    \n    setError(null);\n    setSuccess(null);\n    setSimulacion(null);\n\n    // Validaciones básicas\n    if (!monto || !plazo) {\n      setError('Por favor, completa todos los campos');\n      return;\n    }\n\n    if (!config) {\n      setError('Configuración no disponible, intenta de nuevo');\n      return;\n    }\n\n    // Validación de rangos\n    if (Number(monto) < config.montoMinimo || Number(monto) > config.montoMaximo) {\n      setError(`El monto debe estar entre $${config.montoMinimo.toLocaleString()} y $${config.montoMaximo.toLocaleString()}`);\n      return;\n    }\n\n    if (Number(plazo) < config.plazoMinimo || Number(plazo) > config.plazoMaximo) {\n      setError(`El plazo debe estar entre ${config.plazoMinimo} y ${config.plazoMaximo} meses`);\n      return;\n    }\n\n    setLoading(true);\n\n    try {\n      const response = await crearSimulacion(\n        {\n          monto: Number(monto),\n          plazo: Number(plazo),\n        },\n        user.token\n      );\n\n      setSimulacion(response.data);\n      setSuccess('✅ Simulación guardada exitosamente en tu historial');\n      \n      // Recargar historial\n      cargarHistorial(mostrarTodoHistorial ? null : 4);\n      \n      // Limpiar mensaje de éxito después de 5 segundos\n      setTimeout(() => setSuccess(null), 5000);\n    } catch (err) {\n      console.error('Error al simular:', err);\n      setError(err.response?.data?.error || 'Error al procesar la simulación');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // ==========================================\n  // HANDLER: ELIMINAR SIMULACIÓN\n  // ==========================================\n  const handleEliminar = async (id) => {\n    if (!window.confirm('¿Estás seguro de eliminar esta simulación?')) {\n      return;\n    }\n\n    try {\n      await eliminarSimulacion(id, user.token);\n      setHistorial(historial.filter((sim) => sim.id !== id));\n      \n      if (simulacion && simulacion.id === id) {\n        setSimulacion(null);\n      }\n    } catch (err) {\n      console.error('Error al eliminar:', err);\n      setError('Error al eliminar la simulación');\n    }\n  };\n\n  // ==========================================\n  // HANDLER: VER MÁS/MENOS HISTORIAL\n  // ==========================================\n  const handleVerMas = () => {\n    const nuevoEstado = !mostrarTodoHistorial;\n    setMostrarTodoHistorial(nuevoEstado);\n    cargarHistorial(nuevoEstado ? null : 4);\n  };\n\n  // ==========================================\n  // HANDLER: TOGGLE TABLA AMORTIZACIÓN\n  // ==========================================\n  const toggleAmortizacion = useCallback(() => {\n    setMostrarAmortizacion((prev) => !prev);\n  }, []);\n\n  // ==========================================\n  // RETURN: API PÚBLICA DEL HOOK\n  // ==========================================\n  return {\n    // Estado de configuración\n    config,\n    loadingConfig,\n\n    // Estado del formulario\n    monto,\n    setMonto,\n    plazo,\n    setPlazo,\n\n    // Estado de simulación guardada\n    simulacion,\n    loading,\n    error,\n    success,\n\n    // Estado del historial\n    historial,\n    mostrarTodoHistorial,\n    loadingHistorial,\n\n    // Estado de vista previa\n    vistaPrevia,\n    mostrarAmortizacion,\n    tablaAmortizacion,\n\n    // Handlers\n    handleSimular,\n    handleEliminar,\n    handleVerMas,\n    toggleAmortizacion,\n    cargarHistorial,\n  };\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
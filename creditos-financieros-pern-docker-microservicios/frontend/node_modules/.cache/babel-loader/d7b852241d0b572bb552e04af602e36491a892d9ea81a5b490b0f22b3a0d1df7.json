{"ast":null,"code":"var _jsxFileName = \"/home/numpi/Documentos/Semestre 6/Anal/a/creditos-financieros-pern-docker-microservicios/frontend/src/pages/Simulacion.js\",\n  _s = $RefreshSig$();\nimport React, { useContext, useState, useEffect, useCallback } from \"react\";\nimport { AuthContext } from \"../context/AuthContext\";\nimport { useNavigate } from \"react-router-dom\";\nimport { crearSimulacion, obtenerHistorial, eliminarSimulacion, obtenerConfiguracion } from \"../api/simulacion\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Simulacion() {\n  _s();\n  const {\n    user\n  } = useContext(AuthContext);\n  const navigate = useNavigate();\n\n  // ==========================================\n  // ESTADOS\n  // ==========================================\n\n  // Estado de configuraci√≥n din√°mica\n  const [config, setConfig] = useState(null);\n  const [loadingConfig, setLoadingConfig] = useState(true);\n\n  // Estado del formulario\n  const [monto, setMonto] = useState(5000000);\n  const [plazo, setPlazo] = useState(24);\n\n  // Estado de la simulaci√≥n guardada\n  const [simulacion, setSimulacion] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [success, setSuccess] = useState(null);\n\n  // Estado del historial\n  const [historial, setHistorial] = useState([]);\n  const [mostrarTodoHistorial, setMostrarTodoHistorial] = useState(false);\n  const [loadingHistorial, setLoadingHistorial] = useState(false);\n\n  // Estado para vista previa (c√°lculo local sin guardar)\n  const [vistaPrevia, setVistaPrevia] = useState(null);\n  const [mostrarAmortizacion, setMostrarAmortizacion] = useState(false);\n\n  // ==========================================\n  // CARGAR CONFIGURACI√ìN DEL BACKEND\n  // ==========================================\n  useEffect(() => {\n    const cargarConfiguracion = async () => {\n      try {\n        const response = await obtenerConfiguracion();\n        setConfig(response.data);\n        setLoadingConfig(false);\n      } catch (err) {\n        console.error('Error al cargar configuraci√≥n:', err);\n        // Fallback a valores por defecto en caso de error\n        setConfig({\n          tasaBaseAnual: 0.18,\n          gastosOperacionalesPorcentaje: 0.02,\n          comisionApertura: 0.015,\n          montoMinimo: 500000,\n          montoMaximo: 10000000,\n          plazoMinimo: 6,\n          plazoMaximo: 48\n        });\n        setLoadingConfig(false);\n      }\n    };\n    cargarConfiguracion();\n  }, []);\n\n  // ==========================================\n  // FUNCIONES DE FORMATO\n  // ==========================================\n\n  const formatCurrency = value => {\n    const n = Number(value);\n    if (!Number.isFinite(n)) return \"‚Äî\";\n    return new Intl.NumberFormat(\"es-CL\", {\n      style: \"currency\",\n      currency: \"CLP\",\n      minimumFractionDigits: 0\n    }).format(Math.round(n));\n  };\n  const formatPercent = value => {\n    const n = Number(value);\n    if (!Number.isFinite(n)) return \"‚Äî\";\n    return `${(n * 100).toFixed(2)}%`;\n  };\n  const formatDate = dateString => {\n    return new Date(dateString).toLocaleDateString(\"es-CL\", {\n      year: \"numeric\",\n      month: \"long\",\n      day: \"numeric\",\n      hour: \"2-digit\",\n      minute: \"2-digit\"\n    });\n  };\n\n  // ==========================================\n  // C√ÅLCULO DE VISTA PREVIA LOCAL\n  // ==========================================\n\n  const calcularVistaPrevia = useCallback((montoInput, plazoInput) => {\n    if (!config) return; // Esperar a que la config est√© cargada\n\n    const m = Number(montoInput);\n    const p = Number(plazoInput);\n    if (!m || !p || m <= 0 || p <= 0) {\n      setVistaPrevia(null);\n      return;\n    }\n\n    // C√°lculos financieros\n    const gastosOp = Math.round(m * config.gastosOperacionalesPorcentaje);\n    const comisionAp = Math.round(m * config.comisionApertura);\n    const montoLiq = Math.round(m - gastosOp - comisionAp);\n\n    // Cuota mensual (sistema franc√©s)\n    const i = config.tasaBaseAnual / 12;\n    const cuota = Math.round(m * i / (1 - Math.pow(1 + i, -p)));\n    const montoTot = Math.round(cuota * p);\n    const intereses = Math.round(montoTot - m);\n    const cae = parseFloat((config.tasaBaseAnual + (gastosOp + comisionAp) / m).toFixed(6));\n    const resultado = m >= config.montoMinimo && p >= config.plazoMinimo && p <= config.plazoMaximo ? 'aprobado' : 'rechazado';\n    setVistaPrevia({\n      monto: m,\n      plazo: p,\n      tasaBase: config.tasaBaseAnual,\n      cae,\n      cuotaMensual: cuota,\n      montoTotal: montoTot,\n      montoLiquido: montoLiq,\n      interesesTotales: intereses,\n      gastosOperacionales: gastosOp,\n      comisionApertura: comisionAp,\n      resultado\n    });\n  }, [config]);\n\n  // Actualizar vista previa cuando cambian monto o plazo\n  useEffect(() => {\n    calcularVistaPrevia(monto, plazo);\n  }, [monto, plazo, calcularVistaPrevia]);\n\n  // ==========================================\n  // TABLA DE AMORTIZACI√ìN\n  // ==========================================\n\n  const generarTablaAmortizacion = sim => {\n    if (!sim) return [];\n    const tabla = [];\n    let saldo = Number(sim.monto);\n    const i = Number(sim.tasaBase) / 12;\n    const cuota = Math.round(Number(sim.cuotaMensual));\n    for (let mes = 1; mes <= Number(sim.plazo); mes++) {\n      let interes = Math.round(saldo * i);\n      let capital = cuota - interes;\n      // Ajuste en la √∫ltima cuota para evitar saldo residual por redondeos\n      if (mes === Number(sim.plazo)) {\n        capital = saldo;\n        interes = Math.max(0, cuota - capital);\n      }\n      saldo = Math.max(0, Math.round(saldo - capital));\n      tabla.push({\n        mes,\n        cuota,\n        interes,\n        capital,\n        saldo\n      });\n    }\n    return tabla;\n  };\n\n  // ==========================================\n  // GESTI√ìN DE HISTORIAL\n  // ==========================================\n\n  const cargarHistorial = useCallback(async (limit = null) => {\n    if (!(user !== null && user !== void 0 && user.token)) return;\n    setLoadingHistorial(true);\n    try {\n      const response = await obtenerHistorial(user.token, limit);\n      setHistorial(response.data);\n    } catch (err) {\n      console.error(\"Error al cargar historial:\", err);\n    } finally {\n      setLoadingHistorial(false);\n    }\n  }, [user === null || user === void 0 ? void 0 : user.token]);\n\n  // Redirigir si no hay usuario y cargar historial inicial\n  useEffect(() => {\n    if (!user) {\n      navigate(\"/login\");\n    } else {\n      cargarHistorial(4);\n    }\n  }, [user, navigate, cargarHistorial]);\n\n  // ==========================================\n  // HANDLERS\n  // ==========================================\n\n  const handleSimular = async e => {\n    e.preventDefault();\n    setError(null);\n    setSuccess(null);\n    setSimulacion(null);\n\n    // Validaciones\n    if (!monto || !plazo) {\n      setError(\"Por favor, completa todos los campos\");\n      return;\n    }\n    if (!config) {\n      setError(\"Configuraci√≥n no disponible, intenta de nuevo\");\n      return;\n    }\n    if (Number(monto) < config.montoMinimo || Number(monto) > config.montoMaximo) {\n      setError(`El monto debe estar entre ${formatCurrency(config.montoMinimo)} y ${formatCurrency(config.montoMaximo)}`);\n      return;\n    }\n    if (Number(plazo) < config.plazoMinimo || Number(plazo) > config.plazoMaximo) {\n      setError(`El plazo debe estar entre ${config.plazoMinimo} y ${config.plazoMaximo} meses`);\n      return;\n    }\n    setLoading(true);\n    try {\n      const response = await crearSimulacion({\n        monto: Number(monto),\n        plazo: Number(plazo)\n      }, user.token);\n      setSimulacion(response.data);\n      setSuccess(\"‚úÖ Simulaci√≥n guardada exitosamente en tu historial\");\n      cargarHistorial(mostrarTodoHistorial ? null : 4);\n\n      // Limpiar mensaje de √©xito despu√©s de 5 segundos\n      setTimeout(() => setSuccess(null), 5000);\n    } catch (err) {\n      var _err$response, _err$response$data;\n      console.error(\"Error al simular:\", err);\n      setError(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.error) || \"Error al procesar la simulaci√≥n\");\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleLimpiar = () => {\n    setMonto(5000000);\n    setPlazo(24);\n    setSimulacion(null);\n    setError(null);\n    setSuccess(null);\n  };\n  const handleEliminar = async id => {\n    if (!window.confirm(\"¬øEst√°s seguro de que deseas eliminar esta simulaci√≥n?\")) {\n      return;\n    }\n    try {\n      await eliminarSimulacion(id, user.token);\n      cargarHistorial(mostrarTodoHistorial ? null : 4);\n      if (simulacion && simulacion.id === id) {\n        setSimulacion(null);\n      }\n      setSuccess(\"Simulaci√≥n eliminada correctamente\");\n      setTimeout(() => setSuccess(null), 3000);\n    } catch (err) {\n      console.error(\"Error al eliminar:\", err);\n      setError(\"Error al eliminar la simulaci√≥n\");\n    }\n  };\n  const handleVerMas = () => {\n    if (mostrarTodoHistorial) {\n      cargarHistorial(4);\n      setMostrarTodoHistorial(false);\n    } else {\n      cargarHistorial(null);\n      setMostrarTodoHistorial(true);\n    }\n  };\n  const handleSeleccionarSimulacion = sim => {\n    setSimulacion(sim);\n    setMonto(sim.monto);\n    setPlazo(sim.plazo);\n    window.scrollTo({\n      top: 0,\n      behavior: \"smooth\"\n    });\n  };\n\n  // ==========================================\n  // RENDER\n  // ==========================================\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: styles.container,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.header,\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        style: styles.title,\n        children: \"\\uD83D\\uDCB0 Simulador de Cr\\xE9dito\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 314,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: styles.subtitle,\n        children: \"Simula tu cr\\xE9dito y conoce las condiciones al instante\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 315,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 313,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.alertError,\n      children: [\"\\u274C \", error]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 322,\n      columnNumber: 9\n    }, this), success && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.alertSuccess,\n      children: success\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 328,\n      columnNumber: 9\n    }, this), loadingConfig && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: 'center',\n        padding: '20px'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\u23F3 Cargando configuraci\\xF3n...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 335,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 334,\n      columnNumber: 9\n    }, this), !loadingConfig && config && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.mainGrid,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.card,\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            style: styles.cardTitle,\n            children: \"\\uD83D\\uDCDD Configuraci\\xF3n del Cr\\xE9dito\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 345,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.infoBox,\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"\\u2139\\uFE0F Requisitos:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 349,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n              style: styles.infoList,\n              children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                children: [\"Monto: \", formatCurrency(config.montoMinimo), \" - \", formatCurrency(config.montoMaximo)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 351,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: [\"Plazo: \", config.plazoMinimo, \" a \", config.plazoMaximo, \" meses\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 352,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: [\"Tasa base anual: \", formatPercent(config.tasaBaseAnual)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 353,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 350,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 348,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: handleSimular,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: styles.formGroup,\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                style: styles.label,\n                children: \"\\uD83D\\uDCB5 Monto del Cr\\xE9dito\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 360,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                value: monto,\n                onChange: e => setMonto(Number(e.target.value) || 0),\n                style: styles.input,\n                min: config.montoMinimo,\n                max: config.montoMaximo,\n                step: \"100000\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 363,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"range\",\n                value: monto,\n                onChange: e => setMonto(Number(e.target.value) || 0),\n                style: styles.slider,\n                min: config.montoMinimo,\n                max: config.montoMaximo,\n                step: \"100000\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 372,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: styles.rangeLabels,\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: formatCurrency(config.montoMinimo)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 382,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  style: styles.rangeValue,\n                  children: formatCurrency(monto)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 383,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: formatCurrency(config.montoMaximo)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 384,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 381,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 359,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: styles.formGroup,\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                style: styles.label,\n                children: \"\\uD83D\\uDCC5 Plazo (meses)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 390,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                value: plazo,\n                onChange: e => setPlazo(Number(e.target.value) || 0),\n                style: styles.input,\n                min: config.plazoMinimo,\n                max: config.plazoMaximo\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 393,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"range\",\n                value: plazo,\n                onChange: e => setPlazo(Number(e.target.value) || 0),\n                style: styles.slider,\n                min: config.plazoMinimo,\n                max: config.plazoMaximo\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 401,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: styles.rangeLabels,\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [config.plazoMinimo, \" meses\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 410,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  style: styles.rangeValue,\n                  children: [plazo, \" meses\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 411,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [config.plazoMaximo, \" meses\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 412,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 409,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 389,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: styles.buttonGroup,\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"submit\",\n                disabled: loading,\n                style: {\n                  ...styles.button,\n                  ...styles.buttonPrimary,\n                  ...(loading ? styles.buttonDisabled : {})\n                },\n                children: loading ? \"üíæ Guardando...\" : \"üíæ Guardar Simulaci√≥n\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 418,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: handleLimpiar,\n                style: {\n                  ...styles.button,\n                  ...styles.buttonSecondary\n                },\n                children: \"\\uD83D\\uDD04 Limpiar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 429,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 417,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 357,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 344,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.card,\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            style: styles.cardTitle,\n            children: \"\\uD83D\\uDCCA Vista Previa\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 442,\n            columnNumber: 11\n          }, this), vistaPrevia ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                ...styles.badge,\n                ...(vistaPrevia.resultado === 'aprobado' ? styles.badgeSuccess : styles.badgeError)\n              },\n              children: vistaPrevia.resultado === 'aprobado' ? '‚úÖ Aprobado' : '‚ùå Rechazado'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 447,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: styles.cuotaBox,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: styles.cuotaLabel,\n                children: \"Tu cuota mensual ser\\xE1:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 456,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: styles.cuotaValue,\n                children: formatCurrency(vistaPrevia.cuotaMensual)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 457,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: styles.cuotaSubtext,\n                children: [\"por \", vistaPrevia.plazo, \" meses\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 458,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 455,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: styles.detailsGrid,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: styles.detailItem,\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"\\uD83D\\uDCB0 Total a Pagar:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 464,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: formatCurrency(vistaPrevia.montoTotal)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 465,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 463,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: styles.detailItem,\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"\\uD83D\\uDCB5 Monto Solicitado:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 468,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: formatCurrency(vistaPrevia.monto)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 469,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 467,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: styles.detailItem,\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"\\uD83D\\uDCB8 Recibir\\xE1s (l\\xEDquido):\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 472,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n                  style: {\n                    color: '#28a745'\n                  },\n                  children: formatCurrency(vistaPrevia.montoLiquido)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 473,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 471,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: styles.detailItem,\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"\\uD83D\\uDCC8 Intereses Totales:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 476,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n                  style: {\n                    color: '#dc3545'\n                  },\n                  children: formatCurrency(vistaPrevia.interesesTotales)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 477,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 475,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: styles.detailItem,\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"\\uD83D\\uDD27 Gastos Operacionales:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 480,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: formatCurrency(vistaPrevia.gastosOperacionales)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 481,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 479,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: styles.detailItem,\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"\\uD83D\\uDCDD Comisi\\xF3n Apertura:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 484,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: formatCurrency(vistaPrevia.comisionApertura)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 485,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 483,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: styles.detailItem,\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"\\uD83D\\uDCCA Tasa Base:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 488,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: formatPercent(vistaPrevia.tasaBase)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 489,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 487,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: styles.detailItem,\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"\\uD83D\\uDCC8 CAE:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 492,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n                  style: {\n                    color: '#ff6b6b'\n                  },\n                  children: formatPercent(vistaPrevia.cae)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 493,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 491,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 462,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: styles.warningBox,\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"\\uD83D\\uDCA1 \\xBFQu\\xE9 es el CAE?\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 499,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  margin: '8px 0 0 0',\n                  fontSize: '13px'\n                },\n                children: \"La Carga Anual Equivalente incluye todos los costos del cr\\xE9dito (tasa base + gastos + comisiones) y te permite comparar diferentes opciones.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 500,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 498,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true) : /*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.emptyState,\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"\\uD83D\\uDCCB Ajusta los valores para ver la simulaci\\xF3n\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 508,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 507,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 441,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 342,\n        columnNumber: 11\n      }, this), simulacion && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.card,\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          style: styles.cardTitle,\n          children: [\"\\u2705 Simulaci\\xF3n Guardada #\", simulacion.id]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 517,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.savedSimInfo,\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              margin: 0\n            },\n            children: [\"Guardada el \", formatDate(simulacion.fecha)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 519,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setMostrarAmortizacion(!mostrarAmortizacion),\n            style: {\n              ...styles.button,\n              ...styles.buttonSecondary,\n              marginTop: '16px'\n            },\n            children: [mostrarAmortizacion ? 'üìä Ocultar' : 'üìä Ver', \" Tabla de Amortizaci\\xF3n\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 522,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 518,\n          columnNumber: 11\n        }, this), mostrarAmortizacion && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: '24px',\n            overflowX: 'auto'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"table\", {\n            style: styles.table,\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  style: styles.th,\n                  children: \"Mes\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 536,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  style: styles.th,\n                  children: \"Cuota\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 537,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  style: styles.th,\n                  children: \"Inter\\xE9s\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 538,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  style: styles.th,\n                  children: \"Capital\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 539,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  style: styles.th,\n                  children: \"Saldo\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 540,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 535,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 534,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: generarTablaAmortizacion(simulacion).map(row => /*#__PURE__*/_jsxDEV(\"tr\", {\n                style: row.mes % 2 === 0 ? styles.trEven : {},\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  style: styles.td,\n                  children: row.mes\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 546,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  style: styles.td,\n                  children: formatCurrency(row.cuota)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 547,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  style: styles.td,\n                  children: formatCurrency(row.interes)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 548,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  style: styles.td,\n                  children: formatCurrency(row.capital)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 549,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  style: styles.td,\n                  children: formatCurrency(row.saldo)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 550,\n                  columnNumber: 23\n                }, this)]\n              }, row.mes, true, {\n                fileName: _jsxFileName,\n                lineNumber: 545,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 543,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 533,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 532,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 516,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.card,\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          style: styles.cardTitle,\n          children: \"\\uD83D\\uDCDA Historial de Simulaciones\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 562,\n          columnNumber: 9\n        }, this), loadingHistorial ? /*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.loading,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.spinner\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 566,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Cargando historial...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 567,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 565,\n          columnNumber: 11\n        }, this) : historial.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.emptyState,\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              fontSize: '18px',\n              marginBottom: '8px'\n            },\n            children: \"No tienes simulaciones previas\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 571,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              fontSize: '14px',\n              color: '#6c757d'\n            },\n            children: \"Guarda tu primera simulaci\\xF3n usando el bot\\xF3n \\\"Guardar Simulaci\\xF3n\\\"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 574,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 570,\n          columnNumber: 11\n        }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.historialGrid,\n            children: historial.map(sim => /*#__PURE__*/_jsxDEV(\"div\", {\n              style: styles.historialCard,\n              onClick: () => handleSeleccionarSimulacion(sim),\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: styles.historialHeader,\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    ...styles.historialBadge,\n                    ...(sim.resultado === 'aprobado' ? styles.badgeSuccess : styles.badgeError)\n                  },\n                  children: sim.resultado.toUpperCase()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 588,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: e => {\n                    e.stopPropagation();\n                    handleEliminar(sim.id);\n                  },\n                  style: styles.deleteButton,\n                  title: \"Eliminar\",\n                  children: \"\\uD83D\\uDDD1\\uFE0F\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 594,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 587,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: 'flex',\n                  justifyContent: 'flex-end',\n                  marginBottom: '8px'\n                },\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: e => {\n                    e.stopPropagation();\n                    navigate(`/simulacion/${sim.id}`);\n                  },\n                  style: {\n                    background: 'none',\n                    border: 'none',\n                    color: '#007bff',\n                    cursor: 'pointer',\n                    fontSize: '13px',\n                    textDecoration: 'underline'\n                  },\n                  title: \"Ver detalle\",\n                  children: \"Ver detalle \\u2192\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 607,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 606,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: styles.historialCuota,\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  style: styles.historialCuotaValue,\n                  children: formatCurrency(sim.cuotaMensual)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 624,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: styles.historialCuotaLabel,\n                  children: \"Cuota mensual\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 627,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 623,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: styles.historialDetails,\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  style: styles.historialDetailRow,\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"Monto:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 632,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: formatCurrency(sim.monto)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 633,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 631,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: styles.historialDetailRow,\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"Plazo:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 636,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: [sim.plazo, \" meses\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 637,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 635,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: styles.historialDetailRow,\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"CAE:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 640,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: formatPercent(sim.cae)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 641,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 639,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 630,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: styles.historialFooter,\n                children: formatDate(sim.fecha)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 645,\n                columnNumber: 19\n              }, this)]\n            }, sim.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 582,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 580,\n            columnNumber: 13\n          }, this), historial.length >= 4 && /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              textAlign: 'center',\n              marginTop: '24px'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleVerMas,\n              style: {\n                ...styles.button,\n                ...styles.buttonSecondary\n              },\n              children: mostrarTodoHistorial ? 'Ver Menos ‚ñ≤' : 'Ver M√°s ‚ñº'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 654,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 653,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 561,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 311,\n    columnNumber: 5\n  }, this);\n}\n\n// ==========================================\n// ESTILOS\n// ==========================================\n_s(Simulacion, \"4MemnX5y/gTqRotnelRWOs1NNAE=\", false, function () {\n  return [useNavigate];\n});\n_c = Simulacion;\nconst styles = {\n  container: {\n    maxWidth: '1400px',\n    margin: '0 auto',\n    padding: '24px',\n    fontFamily: '-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, sans-serif'\n  },\n  header: {\n    textAlign: 'center',\n    marginBottom: '32px'\n  },\n  title: {\n    fontSize: '2.5rem',\n    color: '#2c3e50',\n    marginBottom: '8px'\n  },\n  subtitle: {\n    fontSize: '1.1rem',\n    color: '#6c757d'\n  },\n  alertError: {\n    backgroundColor: '#f8d7da',\n    color: '#721c24',\n    padding: '16px',\n    borderRadius: '8px',\n    marginBottom: '24px',\n    borderLeft: '4px solid #dc3545'\n  },\n  alertSuccess: {\n    backgroundColor: '#d4edda',\n    color: '#155724',\n    padding: '16px',\n    borderRadius: '8px',\n    marginBottom: '24px',\n    borderLeft: '4px solid #28a745'\n  },\n  mainGrid: {\n    display: 'grid',\n    gridTemplateColumns: 'repeat(auto-fit, minmax(500px, 1fr))',\n    gap: '24px',\n    marginBottom: '32px'\n  },\n  card: {\n    backgroundColor: 'white',\n    borderRadius: '12px',\n    padding: '24px',\n    boxShadow: '0 2px 8px rgba(0,0,0,0.1)'\n  },\n  cardTitle: {\n    fontSize: '1.5rem',\n    color: '#2c3e50',\n    marginTop: 0,\n    marginBottom: '20px'\n  },\n  infoBox: {\n    backgroundColor: '#e3f2fd',\n    padding: '16px',\n    borderRadius: '8px',\n    marginBottom: '24px',\n    borderLeft: '4px solid #2196f3',\n    fontSize: '14px'\n  },\n  infoList: {\n    margin: '8px 0 0 20px',\n    padding: 0\n  },\n  formGroup: {\n    marginBottom: '24px'\n  },\n  label: {\n    display: 'block',\n    fontWeight: '600',\n    marginBottom: '8px',\n    color: '#495057'\n  },\n  input: {\n    width: '100%',\n    padding: '12px',\n    fontSize: '16px',\n    border: '2px solid #dee2e6',\n    borderRadius: '8px',\n    marginBottom: '8px',\n    boxSizing: 'border-box'\n  },\n  slider: {\n    width: '100%',\n    height: '8px',\n    borderRadius: '4px',\n    background: 'linear-gradient(to right, #667eea, #764ba2)',\n    outline: 'none',\n    marginTop: '8px'\n  },\n  rangeLabels: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    fontSize: '12px',\n    color: '#6c757d',\n    marginTop: '4px'\n  },\n  rangeValue: {\n    fontWeight: 'bold',\n    color: '#667eea',\n    fontSize: '14px'\n  },\n  buttonGroup: {\n    display: 'flex',\n    gap: '12px'\n  },\n  button: {\n    flex: 1,\n    padding: '12px 24px',\n    fontSize: '16px',\n    fontWeight: '600',\n    border: 'none',\n    borderRadius: '8px',\n    cursor: 'pointer',\n    transition: 'all 0.3s'\n  },\n  buttonPrimary: {\n    background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\n    color: 'white'\n  },\n  buttonSecondary: {\n    backgroundColor: '#f8f9fa',\n    color: '#495057',\n    border: '1px solid #dee2e6'\n  },\n  buttonDisabled: {\n    opacity: 0.6,\n    cursor: 'not-allowed'\n  },\n  badge: {\n    display: 'inline-block',\n    padding: '8px 16px',\n    borderRadius: '20px',\n    fontSize: '14px',\n    fontWeight: '600',\n    marginBottom: '20px'\n  },\n  badgeSuccess: {\n    backgroundColor: '#d4edda',\n    color: '#155724'\n  },\n  badgeError: {\n    backgroundColor: '#f8d7da',\n    color: '#721c24'\n  },\n  cuotaBox: {\n    backgroundColor: '#f0f4ff',\n    padding: '24px',\n    borderRadius: '12px',\n    textAlign: 'center',\n    marginBottom: '24px'\n  },\n  cuotaLabel: {\n    fontSize: '14px',\n    color: '#6c757d',\n    marginBottom: '8px'\n  },\n  cuotaValue: {\n    fontSize: '36px',\n    fontWeight: 'bold',\n    color: '#667eea'\n  },\n  cuotaSubtext: {\n    fontSize: '14px',\n    color: '#6c757d',\n    marginTop: '8px'\n  },\n  detailsGrid: {\n    display: 'grid',\n    gridTemplateColumns: '1fr',\n    gap: '12px',\n    marginBottom: '20px'\n  },\n  detailItem: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    padding: '12px',\n    backgroundColor: '#f8f9fa',\n    borderRadius: '6px',\n    fontSize: '14px'\n  },\n  warningBox: {\n    backgroundColor: '#fff3cd',\n    padding: '16px',\n    borderRadius: '8px',\n    borderLeft: '4px solid #ffc107',\n    fontSize: '14px',\n    color: '#856404'\n  },\n  emptyState: {\n    textAlign: 'center',\n    padding: '48px 24px',\n    color: '#6c757d'\n  },\n  savedSimInfo: {\n    backgroundColor: '#f8f9fa',\n    padding: '16px',\n    borderRadius: '8px',\n    textAlign: 'center'\n  },\n  table: {\n    width: '100%',\n    borderCollapse: 'collapse',\n    fontSize: '14px'\n  },\n  th: {\n    backgroundColor: '#f8f9fa',\n    padding: '12px',\n    textAlign: 'left',\n    fontWeight: '600',\n    borderBottom: '2px solid #dee2e6'\n  },\n  td: {\n    padding: '12px',\n    borderBottom: '1px solid #dee2e6'\n  },\n  trEven: {\n    backgroundColor: '#f8f9fa'\n  },\n  loading: {\n    textAlign: 'center',\n    padding: '48px',\n    color: '#6c757d'\n  },\n  spinner: {\n    border: '4px solid #f3f3f3',\n    borderTop: '4px solid #667eea',\n    borderRadius: '50%',\n    width: '40px',\n    height: '40px',\n    animation: 'spin 1s linear infinite',\n    margin: '0 auto 16px'\n  },\n  historialGrid: {\n    display: 'grid',\n    gridTemplateColumns: 'repeat(auto-fill, minmax(280px, 1fr))',\n    gap: '16px',\n    marginBottom: '16px'\n  },\n  historialCard: {\n    backgroundColor: 'white',\n    border: '2px solid #dee2e6',\n    borderRadius: '12px',\n    padding: '16px',\n    cursor: 'pointer',\n    transition: 'all 0.3s'\n  },\n  historialHeader: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: '12px'\n  },\n  historialBadge: {\n    fontSize: '11px',\n    padding: '4px 8px',\n    borderRadius: '12px'\n  },\n  deleteButton: {\n    background: 'none',\n    border: 'none',\n    fontSize: '18px',\n    cursor: 'pointer',\n    padding: '4px 8px'\n  },\n  historialCuota: {\n    marginBottom: '16px'\n  },\n  historialCuotaValue: {\n    fontSize: '24px',\n    fontWeight: 'bold',\n    color: '#667eea'\n  },\n  historialCuotaLabel: {\n    fontSize: '12px',\n    color: '#6c757d'\n  },\n  historialDetails: {\n    fontSize: '14px',\n    marginBottom: '12px'\n  },\n  historialDetailRow: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    marginBottom: '4px'\n  },\n  historialFooter: {\n    fontSize: '11px',\n    color: '#999',\n    paddingTop: '12px',\n    borderTop: '1px solid #eee'\n  }\n};\n\n// Agregar animaci√≥n para el spinner\nconst styleSheet = document.createElement(\"style\");\nstyleSheet.textContent = `\n  @keyframes spin {\n    0% { transform: rotate(0deg); }\n    100% { transform: rotate(360deg); }\n  }\n  \n  .historial-card:hover {\n    transform: translateY(-4px);\n    box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);\n    border-color: #667eea;\n  }\n`;\ndocument.head.appendChild(styleSheet);\nvar _c;\n$RefreshReg$(_c, \"Simulacion\");","map":{"version":3,"names":["React","useContext","useState","useEffect","useCallback","AuthContext","useNavigate","crearSimulacion","obtenerHistorial","eliminarSimulacion","obtenerConfiguracion","jsxDEV","_jsxDEV","Fragment","_Fragment","Simulacion","_s","user","navigate","config","setConfig","loadingConfig","setLoadingConfig","monto","setMonto","plazo","setPlazo","simulacion","setSimulacion","loading","setLoading","error","setError","success","setSuccess","historial","setHistorial","mostrarTodoHistorial","setMostrarTodoHistorial","loadingHistorial","setLoadingHistorial","vistaPrevia","setVistaPrevia","mostrarAmortizacion","setMostrarAmortizacion","cargarConfiguracion","response","data","err","console","tasaBaseAnual","gastosOperacionalesPorcentaje","comisionApertura","montoMinimo","montoMaximo","plazoMinimo","plazoMaximo","formatCurrency","value","n","Number","isFinite","Intl","NumberFormat","style","currency","minimumFractionDigits","format","Math","round","formatPercent","toFixed","formatDate","dateString","Date","toLocaleDateString","year","month","day","hour","minute","calcularVistaPrevia","montoInput","plazoInput","m","p","gastosOp","comisionAp","montoLiq","i","cuota","pow","montoTot","intereses","cae","parseFloat","resultado","tasaBase","cuotaMensual","montoTotal","montoLiquido","interesesTotales","gastosOperacionales","generarTablaAmortizacion","sim","tabla","saldo","mes","interes","capital","max","push","cargarHistorial","limit","token","handleSimular","e","preventDefault","setTimeout","_err$response","_err$response$data","handleLimpiar","handleEliminar","id","window","confirm","handleVerMas","handleSeleccionarSimulacion","scrollTo","top","behavior","styles","container","children","header","title","fileName","_jsxFileName","lineNumber","columnNumber","subtitle","alertError","alertSuccess","textAlign","padding","mainGrid","card","cardTitle","infoBox","infoList","onSubmit","formGroup","label","type","onChange","target","input","min","step","slider","rangeLabels","rangeValue","buttonGroup","disabled","button","buttonPrimary","buttonDisabled","onClick","buttonSecondary","badge","badgeSuccess","badgeError","cuotaBox","cuotaLabel","cuotaValue","cuotaSubtext","detailsGrid","detailItem","color","warningBox","margin","fontSize","emptyState","savedSimInfo","fecha","marginTop","overflowX","table","th","map","row","trEven","td","spinner","length","marginBottom","historialGrid","historialCard","historialHeader","historialBadge","toUpperCase","stopPropagation","deleteButton","display","justifyContent","background","border","cursor","textDecoration","historialCuota","historialCuotaValue","historialCuotaLabel","historialDetails","historialDetailRow","historialFooter","_c","maxWidth","fontFamily","backgroundColor","borderRadius","borderLeft","gridTemplateColumns","gap","boxShadow","fontWeight","width","boxSizing","height","outline","flex","transition","opacity","borderCollapse","borderBottom","borderTop","animation","alignItems","paddingTop","styleSheet","document","createElement","textContent","head","appendChild","$RefreshReg$"],"sources":["/home/numpi/Documentos/Semestre 6/Anal/a/creditos-financieros-pern-docker-microservicios/frontend/src/pages/Simulacion.js"],"sourcesContent":["import React, { useContext, useState, useEffect, useCallback } from \"react\";\nimport { AuthContext } from \"../context/AuthContext\";\nimport { useNavigate } from \"react-router-dom\";\nimport { crearSimulacion, obtenerHistorial, eliminarSimulacion, obtenerConfiguracion } from \"../api/simulacion\";\n\nexport default function Simulacion() {\n  const { user } = useContext(AuthContext);\n  const navigate = useNavigate();\n\n  // ==========================================\n  // ESTADOS\n  // ==========================================\n  \n  // Estado de configuraci√≥n din√°mica\n  const [config, setConfig] = useState(null);\n  const [loadingConfig, setLoadingConfig] = useState(true);\n  \n  // Estado del formulario\n  const [monto, setMonto] = useState(5000000);\n  const [plazo, setPlazo] = useState(24);\n  \n  // Estado de la simulaci√≥n guardada\n  const [simulacion, setSimulacion] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [success, setSuccess] = useState(null);\n\n  // Estado del historial\n  const [historial, setHistorial] = useState([]);\n  const [mostrarTodoHistorial, setMostrarTodoHistorial] = useState(false);\n  const [loadingHistorial, setLoadingHistorial] = useState(false);\n\n  // Estado para vista previa (c√°lculo local sin guardar)\n  const [vistaPrevia, setVistaPrevia] = useState(null);\n  const [mostrarAmortizacion, setMostrarAmortizacion] = useState(false);\n\n  // ==========================================\n  // CARGAR CONFIGURACI√ìN DEL BACKEND\n  // ==========================================\n  useEffect(() => {\n    const cargarConfiguracion = async () => {\n      try {\n        const response = await obtenerConfiguracion();\n        setConfig(response.data);\n        setLoadingConfig(false);\n      } catch (err) {\n        console.error('Error al cargar configuraci√≥n:', err);\n        // Fallback a valores por defecto en caso de error\n        setConfig({\n          tasaBaseAnual: 0.18,\n          gastosOperacionalesPorcentaje: 0.02,\n          comisionApertura: 0.015,\n          montoMinimo: 500000,\n          montoMaximo: 10000000,\n          plazoMinimo: 6,\n          plazoMaximo: 48,\n        });\n        setLoadingConfig(false);\n      }\n    };\n    cargarConfiguracion();\n  }, []);\n\n  // ==========================================\n  // FUNCIONES DE FORMATO\n  // ==========================================\n  \n  const formatCurrency = (value) => {\n    const n = Number(value);\n    if (!Number.isFinite(n)) return \"‚Äî\";\n    return new Intl.NumberFormat(\"es-CL\", {\n      style: \"currency\",\n      currency: \"CLP\",\n      minimumFractionDigits: 0,\n    }).format(Math.round(n));\n  };\n\n  const formatPercent = (value) => {\n    const n = Number(value);\n    if (!Number.isFinite(n)) return \"‚Äî\";\n    return `${(n * 100).toFixed(2)}%`;\n  };\n\n  const formatDate = (dateString) => {\n    return new Date(dateString).toLocaleDateString(\"es-CL\", {\n      year: \"numeric\",\n      month: \"long\",\n      day: \"numeric\",\n      hour: \"2-digit\",\n      minute: \"2-digit\",\n    });\n  };\n\n  // ==========================================\n  // C√ÅLCULO DE VISTA PREVIA LOCAL\n  // ==========================================\n  \n  const calcularVistaPrevia = useCallback((montoInput, plazoInput) => {\n    if (!config) return; // Esperar a que la config est√© cargada\n    \n    const m = Number(montoInput);\n    const p = Number(plazoInput);\n\n    if (!m || !p || m <= 0 || p <= 0) {\n      setVistaPrevia(null);\n      return;\n    }\n\n    // C√°lculos financieros\n    const gastosOp = Math.round(m * config.gastosOperacionalesPorcentaje);\n    const comisionAp = Math.round(m * config.comisionApertura);\n    const montoLiq = Math.round(m - gastosOp - comisionAp);\n\n    // Cuota mensual (sistema franc√©s)\n    const i = config.tasaBaseAnual / 12;\n    const cuota = Math.round(m * i / (1 - Math.pow(1 + i, -p)));\n\n    const montoTot = Math.round(cuota * p);\n    const intereses = Math.round(montoTot - m);\n    const cae = parseFloat((config.tasaBaseAnual + ((gastosOp + comisionAp) / m)).toFixed(6));\n    const resultado = m >= config.montoMinimo && p >= config.plazoMinimo && p <= config.plazoMaximo ? 'aprobado' : 'rechazado';\n\n    setVistaPrevia({\n      monto: m,\n      plazo: p,\n      tasaBase: config.tasaBaseAnual,\n      cae,\n      cuotaMensual: cuota,\n      montoTotal: montoTot,\n      montoLiquido: montoLiq,\n      interesesTotales: intereses,\n      gastosOperacionales: gastosOp,\n      comisionApertura: comisionAp,\n      resultado,\n    });\n  }, [config]);\n\n  // Actualizar vista previa cuando cambian monto o plazo\n  useEffect(() => {\n    calcularVistaPrevia(monto, plazo);\n  }, [monto, plazo, calcularVistaPrevia]);\n\n  // ==========================================\n  // TABLA DE AMORTIZACI√ìN\n  // ==========================================\n  \n  const generarTablaAmortizacion = (sim) => {\n    if (!sim) return [];\n\n    const tabla = [];\n    let saldo = Number(sim.monto);\n    const i = Number(sim.tasaBase) / 12;\n    const cuota = Math.round(Number(sim.cuotaMensual));\n\n    for (let mes = 1; mes <= Number(sim.plazo); mes++) {\n      let interes = Math.round(saldo * i);\n      let capital = cuota - interes;\n      // Ajuste en la √∫ltima cuota para evitar saldo residual por redondeos\n      if (mes === Number(sim.plazo)) {\n        capital = saldo;\n        interes = Math.max(0, cuota - capital);\n      }\n      saldo = Math.max(0, Math.round(saldo - capital));\n\n      tabla.push({\n        mes,\n        cuota,\n        interes,\n        capital,\n        saldo,\n      });\n    }\n\n    return tabla;\n  };\n\n  // ==========================================\n  // GESTI√ìN DE HISTORIAL\n  // ==========================================\n  \n  const cargarHistorial = useCallback(async (limit = null) => {\n    if (!user?.token) return;\n    \n    setLoadingHistorial(true);\n    try {\n      const response = await obtenerHistorial(user.token, limit);\n      setHistorial(response.data);\n    } catch (err) {\n      console.error(\"Error al cargar historial:\", err);\n    } finally {\n      setLoadingHistorial(false);\n    }\n  }, [user?.token]);\n\n  // Redirigir si no hay usuario y cargar historial inicial\n  useEffect(() => {\n    if (!user) {\n      navigate(\"/login\");\n    } else {\n      cargarHistorial(4);\n    }\n  }, [user, navigate, cargarHistorial]);\n\n  // ==========================================\n  // HANDLERS\n  // ==========================================\n  \n  const handleSimular = async (e) => {\n    e.preventDefault();\n    setError(null);\n    setSuccess(null);\n    setSimulacion(null);\n\n    // Validaciones\n    if (!monto || !plazo) {\n      setError(\"Por favor, completa todos los campos\");\n      return;\n    }\n\n    if (!config) {\n      setError(\"Configuraci√≥n no disponible, intenta de nuevo\");\n      return;\n    }\n\n    if (Number(monto) < config.montoMinimo || Number(monto) > config.montoMaximo) {\n      setError(`El monto debe estar entre ${formatCurrency(config.montoMinimo)} y ${formatCurrency(config.montoMaximo)}`);\n      return;\n    }\n\n    if (Number(plazo) < config.plazoMinimo || Number(plazo) > config.plazoMaximo) {\n      setError(`El plazo debe estar entre ${config.plazoMinimo} y ${config.plazoMaximo} meses`);\n      return;\n    }\n\n    setLoading(true);\n\n    try {\n      const response = await crearSimulacion(\n        {\n          monto: Number(monto),\n          plazo: Number(plazo),\n        },\n        user.token\n      );\n\n      setSimulacion(response.data);\n      setSuccess(\"‚úÖ Simulaci√≥n guardada exitosamente en tu historial\");\n      cargarHistorial(mostrarTodoHistorial ? null : 4);\n      \n      // Limpiar mensaje de √©xito despu√©s de 5 segundos\n      setTimeout(() => setSuccess(null), 5000);\n    } catch (err) {\n      console.error(\"Error al simular:\", err);\n      setError(err.response?.data?.error || \"Error al procesar la simulaci√≥n\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleLimpiar = () => {\n    setMonto(5000000);\n    setPlazo(24);\n    setSimulacion(null);\n    setError(null);\n    setSuccess(null);\n  };\n\n  const handleEliminar = async (id) => {\n    if (!window.confirm(\"¬øEst√°s seguro de que deseas eliminar esta simulaci√≥n?\")) {\n      return;\n    }\n\n    try {\n      await eliminarSimulacion(id, user.token);\n      cargarHistorial(mostrarTodoHistorial ? null : 4);\n      \n      if (simulacion && simulacion.id === id) {\n        setSimulacion(null);\n      }\n      \n      setSuccess(\"Simulaci√≥n eliminada correctamente\");\n      setTimeout(() => setSuccess(null), 3000);\n    } catch (err) {\n      console.error(\"Error al eliminar:\", err);\n      setError(\"Error al eliminar la simulaci√≥n\");\n    }\n  };\n\n  const handleVerMas = () => {\n    if (mostrarTodoHistorial) {\n      cargarHistorial(4);\n      setMostrarTodoHistorial(false);\n    } else {\n      cargarHistorial(null);\n      setMostrarTodoHistorial(true);\n    }\n  };\n\n  const handleSeleccionarSimulacion = (sim) => {\n    setSimulacion(sim);\n    setMonto(sim.monto);\n    setPlazo(sim.plazo);\n    window.scrollTo({ top: 0, behavior: \"smooth\" });\n  };\n\n  // ==========================================\n  // RENDER\n  // ==========================================\n  \n  return (\n    <div style={styles.container}>\n      {/* Header */}\n      <div style={styles.header}>\n        <h1 style={styles.title}>üí∞ Simulador de Cr√©dito</h1>\n        <p style={styles.subtitle}>\n          Simula tu cr√©dito y conoce las condiciones al instante\n        </p>\n      </div>\n\n      {/* Alertas */}\n      {error && (\n        <div style={styles.alertError}>\n          ‚ùå {error}\n        </div>\n      )}\n      \n      {success && (\n        <div style={styles.alertSuccess}>\n          {success}\n        </div>\n      )}\n\n      {loadingConfig && (\n        <div style={{textAlign: 'center', padding: '20px'}}>\n          <p>‚è≥ Cargando configuraci√≥n...</p>\n        </div>\n      )}\n\n      {!loadingConfig && config && (\n        <>\n          {/* Grid Principal */}\n          <div style={styles.mainGrid}>\n            {/* Columna Izquierda: Formulario */}\n            <div style={styles.card}>\n              <h2 style={styles.cardTitle}>üìù Configuraci√≥n del Cr√©dito</h2>\n              \n              {/* Info Box */}\n              <div style={styles.infoBox}>\n                <strong>‚ÑπÔ∏è Requisitos:</strong>\n                <ul style={styles.infoList}>\n                  <li>Monto: {formatCurrency(config.montoMinimo)} - {formatCurrency(config.montoMaximo)}</li>\n                  <li>Plazo: {config.plazoMinimo} a {config.plazoMaximo} meses</li>\n                  <li>Tasa base anual: {formatPercent(config.tasaBaseAnual)}</li>\n                </ul>\n              </div>\n\n              <form onSubmit={handleSimular}>\n                {/* Monto */}\n                <div style={styles.formGroup}>\n                  <label style={styles.label}>\n                    üíµ Monto del Cr√©dito\n                  </label>\n                  <input\n                    type=\"number\"\n                    value={monto}\n                    onChange={(e) => setMonto(Number(e.target.value) || 0)}\n                    style={styles.input}\n                    min={config.montoMinimo}\n                    max={config.montoMaximo}\n                    step=\"100000\"\n                  />\n                  <input\n                    type=\"range\"\n                    value={monto}\n                    onChange={(e) => setMonto(Number(e.target.value) || 0)}\n                    style={styles.slider}\n                    min={config.montoMinimo}\n                    max={config.montoMaximo}\n                    step=\"100000\"\n                  />\n                  <div style={styles.rangeLabels}>\n                    <span>{formatCurrency(config.montoMinimo)}</span>\n                    <span style={styles.rangeValue}>{formatCurrency(monto)}</span>\n                    <span>{formatCurrency(config.montoMaximo)}</span>\n                  </div>\n                </div>\n\n                {/* Plazo */}\n                <div style={styles.formGroup}>\n                  <label style={styles.label}>\n                    üìÖ Plazo (meses)\n                  </label>\n                  <input\n                    type=\"number\"\n                    value={plazo}\n                    onChange={(e) => setPlazo(Number(e.target.value) || 0)}\n                    style={styles.input}\n                    min={config.plazoMinimo}\n                    max={config.plazoMaximo}\n                  />\n                  <input\n                    type=\"range\"\n                    value={plazo}\n                    onChange={(e) => setPlazo(Number(e.target.value) || 0)}\n                    style={styles.slider}\n                    min={config.plazoMinimo}\n                    max={config.plazoMaximo}\n                  />\n                  <div style={styles.rangeLabels}>\n                    <span>{config.plazoMinimo} meses</span>\n                    <span style={styles.rangeValue}>{plazo} meses</span>\n                    <span>{config.plazoMaximo} meses</span>\n                  </div>\n                </div>\n\n                {/* Botones */}\n                <div style={styles.buttonGroup}>\n                  <button\n                    type=\"submit\"\n                    disabled={loading}\n                    style={{\n                      ...styles.button,\n                      ...styles.buttonPrimary,\n                      ...(loading ? styles.buttonDisabled : {}),\n                    }}\n                  >\n                    {loading ? \"üíæ Guardando...\" : \"üíæ Guardar Simulaci√≥n\"}\n                  </button>\n              <button\n                type=\"button\"\n                onClick={handleLimpiar}\n                style={{...styles.button, ...styles.buttonSecondary}}\n              >\n                üîÑ Limpiar\n              </button>\n            </div>\n          </form>\n        </div>\n\n        {/* Columna Derecha: Vista Previa */}\n        <div style={styles.card}>\n          <h2 style={styles.cardTitle}>üìä Vista Previa</h2>\n          \n          {vistaPrevia ? (\n            <>\n              {/* Badge de Estado */}\n              <div style={{\n                ...styles.badge,\n                ...(vistaPrevia.resultado === 'aprobado' ? styles.badgeSuccess : styles.badgeError)\n              }}>\n                {vistaPrevia.resultado === 'aprobado' ? '‚úÖ Aprobado' : '‚ùå Rechazado'}\n              </div>\n\n              {/* Cuota Destacada */}\n              <div style={styles.cuotaBox}>\n                <div style={styles.cuotaLabel}>Tu cuota mensual ser√°:</div>\n                <div style={styles.cuotaValue}>{formatCurrency(vistaPrevia.cuotaMensual)}</div>\n                <div style={styles.cuotaSubtext}>por {vistaPrevia.plazo} meses</div>\n              </div>\n\n              {/* Detalles */}\n              <div style={styles.detailsGrid}>\n                <div style={styles.detailItem}>\n                  <span>üí∞ Total a Pagar:</span>\n                  <strong>{formatCurrency(vistaPrevia.montoTotal)}</strong>\n                </div>\n                <div style={styles.detailItem}>\n                  <span>üíµ Monto Solicitado:</span>\n                  <strong>{formatCurrency(vistaPrevia.monto)}</strong>\n                </div>\n                <div style={styles.detailItem}>\n                  <span>üí∏ Recibir√°s (l√≠quido):</span>\n                  <strong style={{color: '#28a745'}}>{formatCurrency(vistaPrevia.montoLiquido)}</strong>\n                </div>\n                <div style={styles.detailItem}>\n                  <span>üìà Intereses Totales:</span>\n                  <strong style={{color: '#dc3545'}}>{formatCurrency(vistaPrevia.interesesTotales)}</strong>\n                </div>\n                <div style={styles.detailItem}>\n                  <span>üîß Gastos Operacionales:</span>\n                  <strong>{formatCurrency(vistaPrevia.gastosOperacionales)}</strong>\n                </div>\n                <div style={styles.detailItem}>\n                  <span>üìù Comisi√≥n Apertura:</span>\n                  <strong>{formatCurrency(vistaPrevia.comisionApertura)}</strong>\n                </div>\n                <div style={styles.detailItem}>\n                  <span>üìä Tasa Base:</span>\n                  <strong>{formatPercent(vistaPrevia.tasaBase)}</strong>\n                </div>\n                <div style={styles.detailItem}>\n                  <span>üìà CAE:</span>\n                  <strong style={{color: '#ff6b6b'}}>{formatPercent(vistaPrevia.cae)}</strong>\n                </div>\n              </div>\n\n              {/* Info CAE */}\n              <div style={styles.warningBox}>\n                <strong>üí° ¬øQu√© es el CAE?</strong>\n                <p style={{margin: '8px 0 0 0', fontSize: '13px'}}>\n                  La Carga Anual Equivalente incluye todos los costos del cr√©dito \n                  (tasa base + gastos + comisiones) y te permite comparar diferentes opciones.\n                </p>\n              </div>\n            </>\n          ) : (\n            <div style={styles.emptyState}>\n              <p>üìã Ajusta los valores para ver la simulaci√≥n</p>\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* Simulaci√≥n Guardada */}\n      {simulacion && (\n        <div style={styles.card}>\n          <h2 style={styles.cardTitle}>‚úÖ Simulaci√≥n Guardada #{simulacion.id}</h2>\n          <div style={styles.savedSimInfo}>\n            <p style={{margin: 0}}>\n              Guardada el {formatDate(simulacion.fecha)}\n            </p>\n            <button\n              onClick={() => setMostrarAmortizacion(!mostrarAmortizacion)}\n              style={{...styles.button, ...styles.buttonSecondary, marginTop: '16px'}}\n            >\n              {mostrarAmortizacion ? 'üìä Ocultar' : 'üìä Ver'} Tabla de Amortizaci√≥n\n            </button>\n          </div>\n\n          {/* Tabla de Amortizaci√≥n */}\n          {mostrarAmortizacion && (\n            <div style={{marginTop: '24px', overflowX: 'auto'}}>\n              <table style={styles.table}>\n                <thead>\n                  <tr>\n                    <th style={styles.th}>Mes</th>\n                    <th style={styles.th}>Cuota</th>\n                    <th style={styles.th}>Inter√©s</th>\n                    <th style={styles.th}>Capital</th>\n                    <th style={styles.th}>Saldo</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {generarTablaAmortizacion(simulacion).map((row) => (\n                    <tr key={row.mes} style={row.mes % 2 === 0 ? styles.trEven : {}}>\n                      <td style={styles.td}>{row.mes}</td>\n                      <td style={styles.td}>{formatCurrency(row.cuota)}</td>\n                      <td style={styles.td}>{formatCurrency(row.interes)}</td>\n                      <td style={styles.td}>{formatCurrency(row.capital)}</td>\n                      <td style={styles.td}>{formatCurrency(row.saldo)}</td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            </div>\n          )}\n        </div>\n      )}\n\n      {/* Historial */}\n      <div style={styles.card}>\n        <h2 style={styles.cardTitle}>üìö Historial de Simulaciones</h2>\n\n        {loadingHistorial ? (\n          <div style={styles.loading}>\n            <div style={styles.spinner}></div>\n            <p>Cargando historial...</p>\n          </div>\n        ) : historial.length === 0 ? (\n          <div style={styles.emptyState}>\n            <p style={{fontSize: '18px', marginBottom: '8px'}}>\n              No tienes simulaciones previas\n            </p>\n            <p style={{fontSize: '14px', color: '#6c757d'}}>\n              Guarda tu primera simulaci√≥n usando el bot√≥n \"Guardar Simulaci√≥n\"\n            </p>\n          </div>\n        ) : (\n          <>\n            <div style={styles.historialGrid}>\n              {historial.map((sim) => (\n                <div\n                  key={sim.id}\n                  style={styles.historialCard}\n                  onClick={() => handleSeleccionarSimulacion(sim)}\n                >\n                  <div style={styles.historialHeader}>\n                    <span style={{\n                      ...styles.historialBadge,\n                      ...(sim.resultado === 'aprobado' ? styles.badgeSuccess : styles.badgeError)\n                    }}>\n                      {sim.resultado.toUpperCase()}\n                    </span>\n                    <button\n                      onClick={(e) => {\n                        e.stopPropagation();\n                        handleEliminar(sim.id);\n                      }}\n                      style={styles.deleteButton}\n                      title=\"Eliminar\"\n                    >\n                      üóëÔ∏è\n                    </button>\n                  </div>\n\n                  <div style={{ display: 'flex', justifyContent: 'flex-end', marginBottom: '8px' }}>\n                    <button\n                      onClick={(e) => { e.stopPropagation(); navigate(`/simulacion/${sim.id}`); }}\n                      style={{\n                        background: 'none',\n                        border: 'none',\n                        color: '#007bff',\n                        cursor: 'pointer',\n                        fontSize: '13px',\n                        textDecoration: 'underline'\n                      }}\n                      title=\"Ver detalle\"\n                    >\n                      Ver detalle ‚Üí\n                    </button>\n                  </div>\n\n                  <div style={styles.historialCuota}>\n                    <div style={styles.historialCuotaValue}>\n                      {formatCurrency(sim.cuotaMensual)}\n                    </div>\n                    <div style={styles.historialCuotaLabel}>Cuota mensual</div>\n                  </div>\n\n                  <div style={styles.historialDetails}>\n                    <div style={styles.historialDetailRow}>\n                      <span>Monto:</span>\n                      <strong>{formatCurrency(sim.monto)}</strong>\n                    </div>\n                    <div style={styles.historialDetailRow}>\n                      <span>Plazo:</span>\n                      <strong>{sim.plazo} meses</strong>\n                    </div>\n                    <div style={styles.historialDetailRow}>\n                      <span>CAE:</span>\n                      <strong>{formatPercent(sim.cae)}</strong>\n                    </div>\n                  </div>\n\n                  <div style={styles.historialFooter}>\n                    {formatDate(sim.fecha)}\n                  </div>\n                </div>\n              ))}\n            </div>\n\n            {historial.length >= 4 && (\n              <div style={{textAlign: 'center', marginTop: '24px'}}>\n                <button\n                  onClick={handleVerMas}\n                  style={{...styles.button, ...styles.buttonSecondary}}\n                >\n                  {mostrarTodoHistorial ? 'Ver Menos ‚ñ≤' : 'Ver M√°s ‚ñº'}\n                </button>\n              </div>\n            )}\n          </>\n        )}\n      </div>\n      </>\n      )}\n    </div>\n  );\n}\n\n// ==========================================\n// ESTILOS\n// ==========================================\n\nconst styles = {\n  container: {\n    maxWidth: '1400px',\n    margin: '0 auto',\n    padding: '24px',\n    fontFamily: '-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, sans-serif',\n  },\n  header: {\n    textAlign: 'center',\n    marginBottom: '32px',\n  },\n  title: {\n    fontSize: '2.5rem',\n    color: '#2c3e50',\n    marginBottom: '8px',\n  },\n  subtitle: {\n    fontSize: '1.1rem',\n    color: '#6c757d',\n  },\n  alertError: {\n    backgroundColor: '#f8d7da',\n    color: '#721c24',\n    padding: '16px',\n    borderRadius: '8px',\n    marginBottom: '24px',\n    borderLeft: '4px solid #dc3545',\n  },\n  alertSuccess: {\n    backgroundColor: '#d4edda',\n    color: '#155724',\n    padding: '16px',\n    borderRadius: '8px',\n    marginBottom: '24px',\n    borderLeft: '4px solid #28a745',\n  },\n  mainGrid: {\n    display: 'grid',\n    gridTemplateColumns: 'repeat(auto-fit, minmax(500px, 1fr))',\n    gap: '24px',\n    marginBottom: '32px',\n  },\n  card: {\n    backgroundColor: 'white',\n    borderRadius: '12px',\n    padding: '24px',\n    boxShadow: '0 2px 8px rgba(0,0,0,0.1)',\n  },\n  cardTitle: {\n    fontSize: '1.5rem',\n    color: '#2c3e50',\n    marginTop: 0,\n    marginBottom: '20px',\n  },\n  infoBox: {\n    backgroundColor: '#e3f2fd',\n    padding: '16px',\n    borderRadius: '8px',\n    marginBottom: '24px',\n    borderLeft: '4px solid #2196f3',\n    fontSize: '14px',\n  },\n  infoList: {\n    margin: '8px 0 0 20px',\n    padding: 0,\n  },\n  formGroup: {\n    marginBottom: '24px',\n  },\n  label: {\n    display: 'block',\n    fontWeight: '600',\n    marginBottom: '8px',\n    color: '#495057',\n  },\n  input: {\n    width: '100%',\n    padding: '12px',\n    fontSize: '16px',\n    border: '2px solid #dee2e6',\n    borderRadius: '8px',\n    marginBottom: '8px',\n    boxSizing: 'border-box',\n  },\n  slider: {\n    width: '100%',\n    height: '8px',\n    borderRadius: '4px',\n    background: 'linear-gradient(to right, #667eea, #764ba2)',\n    outline: 'none',\n    marginTop: '8px',\n  },\n  rangeLabels: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    fontSize: '12px',\n    color: '#6c757d',\n    marginTop: '4px',\n  },\n  rangeValue: {\n    fontWeight: 'bold',\n    color: '#667eea',\n    fontSize: '14px',\n  },\n  buttonGroup: {\n    display: 'flex',\n    gap: '12px',\n  },\n  button: {\n    flex: 1,\n    padding: '12px 24px',\n    fontSize: '16px',\n    fontWeight: '600',\n    border: 'none',\n    borderRadius: '8px',\n    cursor: 'pointer',\n    transition: 'all 0.3s',\n  },\n  buttonPrimary: {\n    background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\n    color: 'white',\n  },\n  buttonSecondary: {\n    backgroundColor: '#f8f9fa',\n    color: '#495057',\n    border: '1px solid #dee2e6',\n  },\n  buttonDisabled: {\n    opacity: 0.6,\n    cursor: 'not-allowed',\n  },\n  badge: {\n    display: 'inline-block',\n    padding: '8px 16px',\n    borderRadius: '20px',\n    fontSize: '14px',\n    fontWeight: '600',\n    marginBottom: '20px',\n  },\n  badgeSuccess: {\n    backgroundColor: '#d4edda',\n    color: '#155724',\n  },\n  badgeError: {\n    backgroundColor: '#f8d7da',\n    color: '#721c24',\n  },\n  cuotaBox: {\n    backgroundColor: '#f0f4ff',\n    padding: '24px',\n    borderRadius: '12px',\n    textAlign: 'center',\n    marginBottom: '24px',\n  },\n  cuotaLabel: {\n    fontSize: '14px',\n    color: '#6c757d',\n    marginBottom: '8px',\n  },\n  cuotaValue: {\n    fontSize: '36px',\n    fontWeight: 'bold',\n    color: '#667eea',\n  },\n  cuotaSubtext: {\n    fontSize: '14px',\n    color: '#6c757d',\n    marginTop: '8px',\n  },\n  detailsGrid: {\n    display: 'grid',\n    gridTemplateColumns: '1fr',\n    gap: '12px',\n    marginBottom: '20px',\n  },\n  detailItem: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    padding: '12px',\n    backgroundColor: '#f8f9fa',\n    borderRadius: '6px',\n    fontSize: '14px',\n  },\n  warningBox: {\n    backgroundColor: '#fff3cd',\n    padding: '16px',\n    borderRadius: '8px',\n    borderLeft: '4px solid #ffc107',\n    fontSize: '14px',\n    color: '#856404',\n  },\n  emptyState: {\n    textAlign: 'center',\n    padding: '48px 24px',\n    color: '#6c757d',\n  },\n  savedSimInfo: {\n    backgroundColor: '#f8f9fa',\n    padding: '16px',\n    borderRadius: '8px',\n    textAlign: 'center',\n  },\n  table: {\n    width: '100%',\n    borderCollapse: 'collapse',\n    fontSize: '14px',\n  },\n  th: {\n    backgroundColor: '#f8f9fa',\n    padding: '12px',\n    textAlign: 'left',\n    fontWeight: '600',\n    borderBottom: '2px solid #dee2e6',\n  },\n  td: {\n    padding: '12px',\n    borderBottom: '1px solid #dee2e6',\n  },\n  trEven: {\n    backgroundColor: '#f8f9fa',\n  },\n  loading: {\n    textAlign: 'center',\n    padding: '48px',\n    color: '#6c757d',\n  },\n  spinner: {\n    border: '4px solid #f3f3f3',\n    borderTop: '4px solid #667eea',\n    borderRadius: '50%',\n    width: '40px',\n    height: '40px',\n    animation: 'spin 1s linear infinite',\n    margin: '0 auto 16px',\n  },\n  historialGrid: {\n    display: 'grid',\n    gridTemplateColumns: 'repeat(auto-fill, minmax(280px, 1fr))',\n    gap: '16px',\n    marginBottom: '16px',\n  },\n  historialCard: {\n    backgroundColor: 'white',\n    border: '2px solid #dee2e6',\n    borderRadius: '12px',\n    padding: '16px',\n    cursor: 'pointer',\n    transition: 'all 0.3s',\n  },\n  historialHeader: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: '12px',\n  },\n  historialBadge: {\n    fontSize: '11px',\n    padding: '4px 8px',\n    borderRadius: '12px',\n  },\n  deleteButton: {\n    background: 'none',\n    border: 'none',\n    fontSize: '18px',\n    cursor: 'pointer',\n    padding: '4px 8px',\n  },\n  historialCuota: {\n    marginBottom: '16px',\n  },\n  historialCuotaValue: {\n    fontSize: '24px',\n    fontWeight: 'bold',\n    color: '#667eea',\n  },\n  historialCuotaLabel: {\n    fontSize: '12px',\n    color: '#6c757d',\n  },\n  historialDetails: {\n    fontSize: '14px',\n    marginBottom: '12px',\n  },\n  historialDetailRow: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    marginBottom: '4px',\n  },\n  historialFooter: {\n    fontSize: '11px',\n    color: '#999',\n    paddingTop: '12px',\n    borderTop: '1px solid #eee',\n  },\n};\n\n// Agregar animaci√≥n para el spinner\nconst styleSheet = document.createElement(\"style\");\nstyleSheet.textContent = `\n  @keyframes spin {\n    0% { transform: rotate(0deg); }\n    100% { transform: rotate(360deg); }\n  }\n  \n  .historial-card:hover {\n    transform: translateY(-4px);\n    box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);\n    border-color: #667eea;\n  }\n`;\ndocument.head.appendChild(styleSheet);\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
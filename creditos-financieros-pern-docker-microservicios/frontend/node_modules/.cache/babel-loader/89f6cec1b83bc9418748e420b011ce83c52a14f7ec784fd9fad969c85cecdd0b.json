{"ast":null,"code":"import _objectSpread from\"/home/numpi/Documentos/Semestre 6/Anal/GRUPOPOGWARE-2025-PROYINF/creditos-financieros-pern-docker-microservicios/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useContext,useEffect,useMemo,useState,useCallback}from\"react\";import{useNavigate,useParams}from\"react-router-dom\";import{AuthContext}from\"../../auth/authContext\";import{obtenerSimulacionPorId,eliminarSimulacion}from\"../services/simulacionApi\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function SimulacionDetalle(){const{id}=useParams();const navigate=useNavigate();const{user}=useContext(AuthContext);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[sim,setSim]=useState(null);const[mostrarAmortizacion,setMostrarAmortizacion]=useState(false);// Helpers de formato\nconst formatCurrency=useCallback(value=>{const n=Number(value);if(!Number.isFinite(n))return\"‚Äî\";return new Intl.NumberFormat(\"es-CL\",{style:\"currency\",currency:\"CLP\",minimumFractionDigits:0}).format(Math.round(n));},[]);const formatPercent=useCallback(value=>{const n=Number(value);if(!Number.isFinite(n))return\"‚Äî\";return\"\".concat((n*100).toFixed(2),\"%\");},[]);const formatDate=useCallback(dateString=>{return new Date(dateString).toLocaleDateString(\"es-CL\",{year:\"numeric\",month:\"long\",day:\"numeric\",hour:\"2-digit\",minute:\"2-digit\"});},[]);// Cargar simulaci√≥n\nuseEffect(()=>{if(!user){navigate(\"/login\");return;}(async()=>{try{const resp=await obtenerSimulacionPorId(id,user.token);setSim(resp.data);}catch(err){var _err$response,_err$response$data;console.error(\"Error cargando simulaci√≥n\",err);setError(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.error)||\"No se pudo cargar la simulaci√≥n\");}finally{setLoading(false);}})();},[id,user,navigate]);// Generar tabla de amortizaci√≥n\nconst tabla=useMemo(()=>{if(!sim)return[];const i=Number(sim.tasaBase)/12;const cuota=Math.round(Number(sim.cuotaMensual));let saldo=Number(sim.monto);const res=[];for(let mes=1;mes<=Number(sim.plazo);mes++){let interes=Math.round(saldo*i);let capital=cuota-interes;if(mes===Number(sim.plazo)){capital=saldo;interes=Math.max(0,cuota-capital);}saldo=Math.max(0,Math.round(saldo-capital));res.push({mes,cuota,interes,capital,saldo});}return res;},[sim]);const handleEliminar=async()=>{if(!window.confirm(\"¬øEliminar esta simulaci√≥n?\"))return;try{await eliminarSimulacion(id,user.token);navigate(\"/simulacion\");}catch(err){setError(\"No se pudo eliminar la simulaci√≥n\");}};if(loading){return/*#__PURE__*/_jsx(\"div\",{style:{padding:24,textAlign:\"center\",color:\"#6c757d\"},children:\"Cargando simulaci\\xF3n...\"});}if(error){return/*#__PURE__*/_jsxs(\"div\",{style:{padding:24},children:[/*#__PURE__*/_jsxs(\"div\",{style:{background:\"#f8d7da\",color:\"#721c24\",padding:16,borderRadius:8,marginBottom:16},children:[\"\\u274C \",error]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate(-1),style:btnSecondary,children:\"Volver\"})]});}if(!sim)return null;const aprobado=sim.resultado===\"aprobado\";return/*#__PURE__*/_jsxs(\"div\",{style:{maxWidth:1100,margin:\"0 auto\",padding:24},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",justifyContent:\"space-between\",alignItems:\"center\",marginBottom:16},children:[/*#__PURE__*/_jsxs(\"h2\",{style:{margin:0},children:[\"Detalle Simulaci\\xF3n #\",sim.id]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",gap:8},children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate(\"/simulacion\"),style:btnSecondary,children:\"\\u2190 Volver\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleEliminar,style:btnDanger,children:\"\\uD83D\\uDDD1\\uFE0F Eliminar\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"grid\",gridTemplateColumns:\"1fr 1fr\",gap:16,marginBottom:16},children:[/*#__PURE__*/_jsxs(\"div\",{style:card,children:[/*#__PURE__*/_jsx(\"div\",{style:{padding:12,borderRadius:8,marginBottom:12,color:aprobado?\"#155724\":\"#721c24\",background:aprobado?\"#d4edda\":\"#f8d7da\",textAlign:\"center\",fontWeight:700},children:aprobado?\"‚úÖ Aprobado\":\"‚ùå Rechazado\"}),/*#__PURE__*/_jsxs(\"div\",{style:{background:\"#f0f4ff\",padding:16,borderRadius:10,textAlign:\"center\",marginBottom:12},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:12,color:\"#6c757d\",marginBottom:6},children:\"Cuota mensual\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:34,fontWeight:800,color:\"#667eea\"},children:formatCurrency(sim.cuotaMensual)}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:12,color:\"#6c757d\",marginTop:6},children:[\"por \",sim.plazo,\" meses\"]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"grid\",gap:8},children:[/*#__PURE__*/_jsx(Row,{label:\"Monto solicitado\",value:formatCurrency(sim.monto)}),/*#__PURE__*/_jsx(Row,{label:\"Monto l\\xEDquido\",value:formatCurrency(sim.montoLiquido),strong:true,color:\"#28a745\"}),/*#__PURE__*/_jsx(Row,{label:\"Total a pagar\",value:formatCurrency(sim.montoTotal)}),/*#__PURE__*/_jsx(Row,{label:\"Intereses totales\",value:formatCurrency(sim.interesesTotales),color:\"#dc3545\"}),/*#__PURE__*/_jsx(Row,{label:\"Gastos operacionales\",value:formatCurrency(sim.gastosOperacionales)}),/*#__PURE__*/_jsx(Row,{label:\"Comisi\\xF3n de apertura\",value:formatCurrency(sim.comisionApertura)}),/*#__PURE__*/_jsx(Row,{label:\"Tasa base (anual)\",value:formatPercent(sim.tasaBase)}),/*#__PURE__*/_jsx(Row,{label:\"CAE\",value:formatPercent(sim.cae),color:\"#ff6b6b\"}),/*#__PURE__*/_jsx(Row,{label:\"Fecha\",value:formatDate(sim.fecha)})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:card,children:[/*#__PURE__*/_jsx(\"h3\",{style:{marginTop:0,color:'black'},children:\"Tabla de Amortizaci\\xF3n\"}),/*#__PURE__*/_jsx(\"p\",{style:{color:\"#6c757d\",marginTop:4},children:\"Desglose mensual de inter\\xE9s y capital.\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setMostrarAmortizacion(!mostrarAmortizacion),style:_objectSpread(_objectSpread({},btnSecondary),{},{marginBottom:12}),children:[mostrarAmortizacion?\"Ocultar\":\"Ver\",\" tabla\"]}),mostrarAmortizacion&&/*#__PURE__*/_jsx(\"div\",{style:{overflowX:\"auto\"},children:/*#__PURE__*/_jsxs(\"table\",{style:{width:\"100%\",borderCollapse:\"collapse\",fontSize:14,color:'black'},children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(Th,{children:\"Mes\"}),/*#__PURE__*/_jsx(Th,{children:\"Cuota\"}),/*#__PURE__*/_jsx(Th,{children:\"Inter\\xE9s\"}),/*#__PURE__*/_jsx(Th,{children:\"Capital\"}),/*#__PURE__*/_jsx(Th,{children:\"Saldo\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:tabla.map(r=>/*#__PURE__*/_jsxs(\"tr\",{style:{background:r.mes%2===0?\"#f8f9fa\":\"transparent\"},children:[/*#__PURE__*/_jsx(Td,{children:r.mes}),/*#__PURE__*/_jsx(Td,{children:formatCurrency(r.cuota)}),/*#__PURE__*/_jsx(Td,{children:formatCurrency(r.interes)}),/*#__PURE__*/_jsx(Td,{children:formatCurrency(r.capital)}),/*#__PURE__*/_jsx(Td,{children:formatCurrency(r.saldo)})]},r.mes))})]})})]})]})]});}function Row(_ref){let{label,value,strong,color}=_ref;return/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",justifyContent:\"space-between\",background:\"#f8f9fa\",padding:12,borderRadius:8},children:[/*#__PURE__*/_jsx(\"span\",{style:{color:\"#6c757d\"},children:label}),/*#__PURE__*/_jsx(\"span\",{style:{fontWeight:strong?800:600,color:color||\"#2c3e50\"},children:value})]});}function Th(_ref2){let{children}=_ref2;return/*#__PURE__*/_jsx(\"th\",{style:{textAlign:\"left\",padding:10,borderBottom:\"2px solid #dee2e6\",background:\"#f8f9fa\"},children:children});}function Td(_ref3){let{children}=_ref3;return/*#__PURE__*/_jsx(\"td\",{style:{padding:10,borderBottom:\"1px solid #eee\"},children:children});}const card={background:\"white\",padding:16,borderRadius:12,boxShadow:\"0 2px 8px rgba(0,0,0,0.08)\"};const btnSecondary={background:\"#f8f9fa\",border:\"1px solid #dee2e6\",borderRadius:8,padding:\"8px 12px\",cursor:\"pointer\"};const btnDanger={background:\"#f44336\",color:\"white\",border:\"none\",borderRadius:8,padding:\"8px 12px\",cursor:\"pointer\"};","map":{"version":3,"names":["React","useContext","useEffect","useMemo","useState","useCallback","useNavigate","useParams","AuthContext","obtenerSimulacionPorId","eliminarSimulacion","jsx","_jsx","jsxs","_jsxs","SimulacionDetalle","id","navigate","user","loading","setLoading","error","setError","sim","setSim","mostrarAmortizacion","setMostrarAmortizacion","formatCurrency","value","n","Number","isFinite","Intl","NumberFormat","style","currency","minimumFractionDigits","format","Math","round","formatPercent","concat","toFixed","formatDate","dateString","Date","toLocaleDateString","year","month","day","hour","minute","resp","token","data","err","_err$response","_err$response$data","console","response","tabla","i","tasaBase","cuota","cuotaMensual","saldo","monto","res","mes","plazo","interes","capital","max","push","handleEliminar","window","confirm","padding","textAlign","color","children","background","borderRadius","marginBottom","onClick","btnSecondary","aprobado","resultado","maxWidth","margin","display","justifyContent","alignItems","gap","btnDanger","gridTemplateColumns","card","fontWeight","fontSize","marginTop","Row","label","montoLiquido","strong","montoTotal","interesesTotales","gastosOperacionales","comisionApertura","cae","fecha","_objectSpread","overflowX","width","borderCollapse","Th","map","r","Td","_ref","_ref2","borderBottom","_ref3","boxShadow","border","cursor"],"sources":["/home/numpi/Documentos/Semestre 6/Anal/GRUPOPOGWARE-2025-PROYINF/creditos-financieros-pern-docker-microservicios/frontend/src/features/simulacion/pages/SimulacionDetalle.js"],"sourcesContent":["\nimport React, { useContext, useEffect, useMemo, useState, useCallback } from \"react\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport { AuthContext } from \"../../auth/authContext\";\nimport { obtenerSimulacionPorId, eliminarSimulacion } from \"../services/simulacionApi\";\n\nexport default function SimulacionDetalle() {\n  const { id } = useParams();\n  const navigate = useNavigate();\n  const { user } = useContext(AuthContext);\n\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [sim, setSim] = useState(null);\n  const [mostrarAmortizacion, setMostrarAmortizacion] = useState(false);\n\n  // Helpers de formato\n  const formatCurrency = useCallback((value) => {\n    const n = Number(value);\n    if (!Number.isFinite(n)) return \"‚Äî\";\n    return new Intl.NumberFormat(\"es-CL\", { style: \"currency\", currency: \"CLP\", minimumFractionDigits: 0 }).format(Math.round(n));\n  }, []);\n\n  const formatPercent = useCallback((value) => {\n    const n = Number(value);\n    if (!Number.isFinite(n)) return \"‚Äî\";\n    return `${(n * 100).toFixed(2)}%`;\n  }, []);\n\n  const formatDate = useCallback((dateString) => {\n    return new Date(dateString).toLocaleDateString(\"es-CL\", { year: \"numeric\", month: \"long\", day: \"numeric\", hour: \"2-digit\", minute: \"2-digit\" });\n  }, []);\n\n  // Cargar simulaci√≥n\n  useEffect(() => {\n    if (!user) {\n      navigate(\"/login\");\n      return;\n    }\n\n    (async () => {\n      try {\n        const resp = await obtenerSimulacionPorId(id, user.token);\n        setSim(resp.data);\n      } catch (err) {\n        console.error(\"Error cargando simulaci√≥n\", err);\n        setError(err.response?.data?.error || \"No se pudo cargar la simulaci√≥n\");\n      } finally {\n        setLoading(false);\n      }\n    })();\n  }, [id, user, navigate]);\n\n  // Generar tabla de amortizaci√≥n\n  const tabla = useMemo(() => {\n    if (!sim) return [];\n    const i = Number(sim.tasaBase) / 12;\n    const cuota = Math.round(Number(sim.cuotaMensual));\n    let saldo = Number(sim.monto);\n    const res = [];\n    for (let mes = 1; mes <= Number(sim.plazo); mes++) {\n      let interes = Math.round(saldo * i);\n      let capital = cuota - interes;\n      if (mes === Number(sim.plazo)) {\n        capital = saldo;\n        interes = Math.max(0, cuota - capital);\n      }\n      saldo = Math.max(0, Math.round(saldo - capital));\n      res.push({ mes, cuota, interes, capital, saldo });\n    }\n    return res;\n  }, [sim]);\n\n  const handleEliminar = async () => {\n    if (!window.confirm(\"¬øEliminar esta simulaci√≥n?\")) return;\n    try {\n      await eliminarSimulacion(id, user.token);\n      navigate(\"/simulacion\");\n    } catch (err) {\n      setError(\"No se pudo eliminar la simulaci√≥n\");\n    }\n  };\n\n  if (loading) {\n    return (\n      <div style={{ padding: 24, textAlign: \"center\", color: \"#6c757d\" }}>\n        Cargando simulaci√≥n...\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div style={{ padding: 24 }}>\n        <div style={{ background: \"#f8d7da\", color: \"#721c24\", padding: 16, borderRadius: 8, marginBottom: 16 }}>‚ùå {error}</div>\n        <button onClick={() => navigate(-1)} style={btnSecondary}>Volver</button>\n      </div>\n    );\n  }\n\n  if (!sim) return null;\n\n  const aprobado = sim.resultado === \"aprobado\";\n\n  return (\n    <div style={{ maxWidth: 1100, margin: \"0 auto\", padding: 24 }}>\n      <div style={{ display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\", marginBottom: 16 }}>\n        <h2 style={{ margin: 0 }}>Detalle Simulaci√≥n #{sim.id}</h2>\n        <div style={{ display: \"flex\", gap: 8 }}>\n          <button onClick={() => navigate(\"/simulacion\")} style={btnSecondary}>‚Üê Volver</button>\n          <button onClick={handleEliminar} style={btnDanger}>üóëÔ∏è Eliminar</button>\n        </div>\n      </div>\n\n      <div style={{ display: \"grid\", gridTemplateColumns: \"1fr 1fr\", gap: 16, marginBottom: 16 }}>\n        <div style={card}>\n          <div style={{\n            padding: 12,\n            borderRadius: 8,\n            marginBottom: 12,\n            color: aprobado ? \"#155724\" : \"#721c24\",\n            background: aprobado ? \"#d4edda\" : \"#f8d7da\",\n            textAlign: \"center\",\n            fontWeight: 700,\n          }}>\n            {aprobado ? \"‚úÖ Aprobado\" : \"‚ùå Rechazado\"}\n          </div>\n\n          <div style={{ background: \"#f0f4ff\", padding: 16, borderRadius: 10, textAlign: \"center\", marginBottom: 12 }}>\n            <div style={{ fontSize: 12, color: \"#6c757d\", marginBottom: 6 }}>Cuota mensual</div>\n            <div style={{ fontSize: 34, fontWeight: 800, color: \"#667eea\" }}>{formatCurrency(sim.cuotaMensual)}</div>\n            <div style={{ fontSize: 12, color: \"#6c757d\", marginTop: 6 }}>por {sim.plazo} meses</div>\n          </div>\n\n          <div style={{ display: \"grid\", gap: 8 }}>\n            <Row label=\"Monto solicitado\" value={formatCurrency(sim.monto)} />\n            <Row label=\"Monto l√≠quido\" value={formatCurrency(sim.montoLiquido)} strong color=\"#28a745\" />\n            <Row label=\"Total a pagar\" value={formatCurrency(sim.montoTotal)} />\n            <Row label=\"Intereses totales\" value={formatCurrency(sim.interesesTotales)} color=\"#dc3545\" />\n            <Row label=\"Gastos operacionales\" value={formatCurrency(sim.gastosOperacionales)} />\n            <Row label=\"Comisi√≥n de apertura\" value={formatCurrency(sim.comisionApertura)} />\n            <Row label=\"Tasa base (anual)\" value={formatPercent(sim.tasaBase)} />\n            <Row label=\"CAE\" value={formatPercent(sim.cae)} color=\"#ff6b6b\" />\n            <Row label=\"Fecha\" value={formatDate(sim.fecha)} />\n          </div>\n        </div>\n\n        <div style={card}>\n          <h3 style={{ marginTop: 0,color:'black' }}>Tabla de Amortizaci√≥n</h3>\n          <p style={{ color: \"#6c757d\", marginTop: 4 }}>Desglose mensual de inter√©s y capital.</p>\n          <button onClick={() => setMostrarAmortizacion(!mostrarAmortizacion)} style={{ ...btnSecondary, marginBottom: 12 }}>\n            {mostrarAmortizacion ? \"Ocultar\" : \"Ver\"} tabla\n          </button>\n\n          {mostrarAmortizacion && (\n            <div style={{ overflowX: \"auto\" }}>\n              <table style={{ width: \"100%\", borderCollapse: \"collapse\", fontSize: 14,color:'black' }}>\n                <thead>\n                  <tr>\n                    <Th>Mes</Th>\n                    <Th>Cuota</Th>\n                    <Th>Inter√©s</Th>\n                    <Th>Capital</Th>\n                    <Th>Saldo</Th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {tabla.map((r) => (\n                    <tr key={r.mes} style={{ background: r.mes % 2 === 0 ? \"#f8f9fa\" : \"transparent\" }}>\n                      <Td>{r.mes}</Td>\n                      <Td>{formatCurrency(r.cuota)}</Td>\n                      <Td>{formatCurrency(r.interes)}</Td>\n                      <Td>{formatCurrency(r.capital)}</Td>\n                      <Td>{formatCurrency(r.saldo)}</Td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction Row({ label, value, strong, color }) {\n  return (\n    <div style={{ display: \"flex\", justifyContent: \"space-between\", background: \"#f8f9fa\", padding: 12, borderRadius: 8 }}>\n      <span style={{ color: \"#6c757d\" }}>{label}</span>\n      <span style={{ fontWeight: strong ? 800 : 600, color: color || \"#2c3e50\" }}>{value}</span>\n    </div>\n  );\n}\n\nfunction Th({ children }) {\n  return (\n    <th style={{ textAlign: \"left\", padding: 10, borderBottom: \"2px solid #dee2e6\", background: \"#f8f9fa\" }}>{children}</th>\n  );\n}\n\nfunction Td({ children }) {\n  return (\n    <td style={{ padding: 10, borderBottom: \"1px solid #eee\" }}>{children}</td>\n  );\n}\n\nconst card = { background: \"white\", padding: 16, borderRadius: 12, boxShadow: \"0 2px 8px rgba(0,0,0,0.08)\" };\nconst btnSecondary = { background: \"#f8f9fa\", border: \"1px solid #dee2e6\", borderRadius: 8, padding: \"8px 12px\", cursor: \"pointer\" };\nconst btnDanger = { background: \"#f44336\", color: \"white\", border: \"none\", borderRadius: 8, padding: \"8px 12px\", cursor: \"pointer\" };"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}